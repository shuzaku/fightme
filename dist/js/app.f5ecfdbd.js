(function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"067c":function(e,t,n){"use strict";n("0b2e")},"0b2e":function(e,t,n){},"0c0e":function(e,t,n){},"10a7":function(e,t,n){"use strict";n("dc90")},"15a4":function(e,t,n){},"15bc":function(e,t,n){},"196c":function(e,t,n){"use strict";n("7029")},"1e49":function(e,t,n){},"1e57":function(e,t,n){},"202b":function(e,t,n){"use strict";n("b9af")},2380:function(e,t,n){"use strict";n("d400")},"23ba":function(e,t,n){},"299a":function(e,t,n){},"2c14":function(e,t,n){"use strict";n("23ba")},"2c79":function(e,t,n){"use strict";n("44dc")},"2c81":function(e,t,n){"use strict";n("61cd")},"2fb1":function(e,t,n){},"2fec":function(e,t,n){},3002:function(e,t,n){},3178:function(e,t,n){"use strict";n("e48b")},3624:function(e,t,n){"use strict";n("ee2f")},3804:function(e,t,n){},"383a":function(e,t,n){},"38a3":function(e,t,n){},"39a1":function(e,t,n){"use strict";n("1e49")},"3ce2":function(e,t,n){"use strict";n("8291")},"446a":function(e,t,n){"use strict";n("38a3")},"44dc":function(e,t,n){},4522:function(e,t,n){"use strict";n("15bc")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="4678"},"46e0":function(e,t,n){"use strict";n("3804")},"47ef":function(e,t,n){"use strict";n("2fec")},"49d4":function(e,t,n){"use strict";n("5faa")},"4a96":function(e,t,n){"use strict";n("383a")},"4b59":function(e,t,n){},5249:function(e,t,n){"use strict";n("9c92")},"527c":function(e,t,n){"use strict";n("ac55")},"52d1":function(e,t,n){"use strict";n("f4e8")},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"eventbus",(function(){return xo}));n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{mobile:e.isMobile,"small-mobile":e.isSmallMobile},attrs:{id:"app"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"side-panel",class:{menuActive:e.showMobileMenu}},[e.isLoading?e._e():n("new-nav",{attrs:{account:e.account}}),e.isSmallMobile?n("div",{staticClass:"mobile-bar"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:"https://res.cloudinary.com/shuzchef/image/upload/v1622816435/bb5h6tgdysfys9qi1du5.png"}})],1),n("v-icon",{on:{click:function(t){e.showMobileMenu=!e.showMobileMenu}}},[e._v("mdi-menu")])],1):e._e()],1),n("div",{ref:"mainPanel",staticClass:"main-panel"},[e.isWidgetOpen?n("modal",{attrs:{options:e.options,account:e.account},on:{closeModal:function(t){return e.closeModal()}}}):e._e(),n("div",{staticClass:"content-container"},[e.isLoading?e._e():n("div",{staticClass:"main-content-container"},[n("router-view",{attrs:{account:e.account}})],1)])],1)]),n("div",{staticClass:"svg-container"})])},r=[],o=(n("96cf"),n("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto navigation",attrs:{height:"300",width:"330"}},[n("v-navigation-drawer",{attrs:{dark:"",permanent:"",width:"100%"}},[n("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[n("v-navigation-drawer",{attrs:{dark:"","mini-variant":"","mini-variant-width":"56",permanent:""}},[n("v-list-item",{staticClass:"px-2 logo"},[n("v-list-item-avatar",[n("v-img",{attrs:{src:"https://res.cloudinary.com/shuzchef/image/upload/v1622816435/bb5h6tgdysfys9qi1du5.png"}})],1)],1),n("v-divider"),n("v-list",{attrs:{dense:"",nav:""}},[n("follows",{attrs:{account:e.account}}),e._l(e.mainItems,(function(t){return n("v-list-item",{key:t.title,on:{click:function(n){return e.updateMain(t)}}},[t.hasAccess?n("div",{staticClass:"item-container"},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1)],1):e._e()])}))],2),n("div",{staticClass:"account"},[n("v-icon",{on:{click:function(t){return e.updateMain({title:"Account"})}}},[e._v("mdi-account")])],1)],1),n("v-list",[n("general-search"),"Videos"===e.selectedMain.title?n("video-menu",{attrs:{account:e.account},on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Combos"===e.selectedMain.title?n("combo-menu",{on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Matches"===e.selectedMain.title?n("match-menu",{on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Players"===e.selectedMain.title?n("player-menu",{attrs:{account:e.account},on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Games"===e.selectedMain.title?n("game-menu",{attrs:{account:e.account},on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Character"===e.selectedMain.title?n("character-menu",{attrs:{account:e.account},on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Follow"===e.selectedMain.title?n("follow-menu",{attrs:{account:e.account},on:{"set-search":function(t){return e.setSearch(t)}}}):e._e(),"Matchups"===e.selectedMain.title?n("div",{staticClass:"match-nav inner-list"},[n("h2",[e._v("Matchups")]),n("game-select-menu-item",{attrs:{initialOpen:""},on:{"game-selected":function(t){return e.searchGame(t)}}}),n("character-select-menu-item",{attrs:{gameId:e.selectedGame.id},on:{"character-selected":function(t){return e.matchupCharacter1(t)}}}),n("character-select-menu-item",{attrs:{title:"Matchup",gameId:e.selectedGame.id},on:{"character-selected":function(t){return e.matchupCharacter2(t)}}})],1):e._e(),"Favorites"===e.selectedMain.title&&e.account?n("div",{staticClass:"favorite-nav inner-list"},[n("h2",[e._v("Favorites")]),n("div",{staticClass:"menu-item",on:{click:function(t){return e.goToFavoriteMatch()}}},[e._v("\n                        Matches\n                    ")]),n("div",{staticClass:"menu-item",on:{click:function(t){return e.goToFavoriteCombo()}}},[e._v("\n                        Combos\n                    ")])]):e._e(),"Add"===e.selectedMain.title&&e.account?n("div",{staticClass:"favorite-nav inner-list"},[n("h2",[e._v("Add")]),n("ul",e._l(e.createOptions,(function(t){return n("li",{key:t.value,staticClass:"menu-item",on:{click:function(n){return e.openCreateWidget(t.value)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])})),0)]):e._e(),"Collections"===e.selectedMain.title&&e.account?n("div",{staticClass:"favorite-nav inner-list"},[n("h2",[e._v("Collections")]),n("div",{staticClass:"menu-heading"},[n("collection-select-menu-item",{attrs:{account:e.account}})],1)]):e._e(),"Collections"===e.selectedMain.title&&e.account?n("div",{staticClass:"collection-nav inner-list"},[n("h2",[e._v("Collections")]),n("div",{staticClass:"menu-heading"},[n("collection-select-menu-item",{attrs:{account:e.account}})],1)]):e._e(),"Account"===e.selectedMain.title?n("div",{staticClass:"account-nav inner-list"},[n("h2",[e._v("Account")]),n("user",{attrs:{account:e.account}})],1):e._e()],1)],1)],1)],1)},c=[],l=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{opened:e.isOpen},"game-selct-menu-item"]},[n("div",{staticClass:"menu-item",on:{click:e.toggleOpen}},[e._v("\n        Games\n        "),n("v-icon",[e._v("\n            mdi-chevron-down\n        ")])],1),e.isOpen?n("div",{staticClass:"games"},[n("multiselect",{attrs:{options:e.games,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,"custom-label":e.customLabel,placeholder:"Games",label:"name","track-by":"id"},on:{input:function(t){return e.selectGame(t)}},scopedSlots:e._u([{key:"singleLabel",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.logoUrl}}),n("span",{staticClass:"option__name"},[e._v(e._s(t.option.title))])]}},{key:"option",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.logoUrl,alt:"No Man’s Sky"}}),n("div",{staticClass:"option__desc"},[n("span",{staticClass:"option__name"},[e._v(e._s(t.option.title))])])]}}],null,!1,47334377),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e()])}),u=[],d=(n("ac6a"),n("bc3a")),h=n.n(d),m=function(){return h.a.create({baseURL:"http://localhost:8082"})},p={fetchGames:function(){return m().get("games")},addGame:function(e){return m().post("games",e)},queryGames:function(e){var t=e.map((function(e){return e.queryName})),n=e.map((function(e){return e.queryValue}));return m().get("gameQuery?queryName="+t.join(",")+"&queryValue="+n.join(","),e)},updateGame:function(e){return m().put("games/"+e.id,e)},getGame:function(e){return m().get("games/"+e.id)},deleteGame:function(e){return m().delete("games/"+e)}},f={name:"game-select",props:{initialOpen:{type:Boolean,default:!1},value:{type:Object,default:null}},data:function(){return{games:[],isOpen:!1}},computed:{componentStyle:function(){return"[{opened: }]"}},mounted:function(){this.getGames(),this.isOpen=this.initialOpen},methods:{customLabel:function(e){var t=e.name;return"".concat(t)},getGames:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.fetchGames();case 2:t=e.sent,this.games=t.data.games.map((function(e){return{id:e._id,title:e.Title,logoUrl:e.LogoUrl,selected:!1}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectGame:function(e){this.games.forEach((function(e){e.selected=!1})),e.selected=!0,this.$emit("game-selected",e)},toggleOpen:function(){this.$emit("selectExpand"),this.isOpen=!this.isOpen},collapse:function(){this.isOpen=!1}}},v=f,g=(n("6b86"),n("2877")),y=n("6544"),b=n.n(y),C=n("132d"),w=Object(g["a"])(v,l,u,!1,null,null,null),_=w.exports;b()(w,{VIcon:C["a"]});var V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{opened:e.isOpen},"collection-select-menu-item"]},[n("ul",{staticClass:"collections"},e._l(e.collections,(function(t){return n("li",{key:t.id,class:[{selected:t.selected}],on:{click:function(n){return e.selectCollection(t)}}},[e._v("\n            "+e._s(t.name)+"\n        ")])})),0)])},k=[],x={addCollection:function(e){return m().post("collections",e)},queryCollections:function(e){var t=[];if(e.searchQuery){var n=e.searchQuery.map((function(e){return e.queryName})),a=e.searchQuery.map((function(e){return e.queryValue}));t.push("queryName=".concat(n.join(","))),t.push("queryValue=".concat(a.join(",")))}return m().get("collectionQuery?".concat(t.join("&")),e)},queryCollection:function(e){return m().get("collection/"+e)},updateCollection:function(e){return m().put("collections/"+e.id,e)}},I={name:"collection-select",props:{initialOpen:{type:Boolean,default:!1},account:{type:Object,default:null}},data:function(){return{collections:[],isOpen:!1,selectedItem:null}},computed:{componentStyle:function(){return"[{opened: }]"}},mounted:function(){this.getCollections(),this.isOpen=this.initialOpen},methods:{getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos}}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectCollection:function(e){this.$router.push("/collection/".concat(e.id))},open:function(){this.isOpen=!this.isOpen}}},T=I,$=(n("446a"),Object(g["a"])(T,V,k,!1,null,null,null)),P=$.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"general-search",attrs:{placeholder:"Search Category"}},[e.isLoading?e._e():n("multiselect",{attrs:{options:e.searchValues,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,placeholder:"Search...","group-label":"category","group-values":"values",label:"value","track-by":"value"},on:{input:function(t){return e.setSearch()}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)},j=[],M={fetchForSearch:function(){return m().get("search")}},q={name:"TopNav",data:function(){return{isLoading:!0,search:null,isDropDownOpen:!1,isRegisterModalOpen:!1,isLoginModalOpen:!1,searchValue:null,searchValues:[],createOptions:[{name:"Video",value:"video"},{name:"Game",value:"game"},{name:"Player",value:"player"},{name:"Creator",value:"creator"},{name:"Character",value:"character"},{name:"Tournament",value:"tournament"}]}},computed:{characters:function(){return this.searchValues[1].values.filter((function(e){return"Character"===e.valueType})).map((function(e){return e.value}))}},mounted:function(){this.getSearch()},created:function(){xo.$on("updateSearch",this.getSearch)},beforeDestroy:function(){xo.$off("updateSearch",this.getSearch)},methods:{getSearch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M.fetchForSearch();case 2:t=e.sent,n=t.data.searchValues.map((function(e){var t={id:e._id,value:"",valueType:""};return e.GamesPlayed?(t.value=e.Name,t.valueType="Player"):e.GameId?(t.value=e.Name,t.valueType="Character"):e.YoutubeUrl?(t.value=e.Name,t.valueType="ContentCreator"):e.Title&&(t.value=e.Title,t.valueType="Game"),t})),this.searchValues=[{category:"Player",values:n.filter((function(e){return"Player"===e.valueType}))},{category:"Character",values:n.filter((function(e){return"Character"===e.valueType}))},{category:"Content Creator",values:n.filter((function(e){return"ContentCreator"===e.valueType}))},{category:"Game",values:n.filter((function(e){return"Game"===e.valueType}))}],this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setSearch:function(){var e={name:this.searchValue.valueType,value:this.searchValue.id};this.$router.push("/".concat(e.name,"/").concat(e.value))},openRegisterModal:function(){this.isRegisterModalOpen=!0,this.closeLoginModal()},closeRegisterModal:function(){this.isRegisterModalOpen=!1},openLoginModal:function(){this.isLoginModalOpen=!0,this.closeRegisterModal()},closeLoginModal:function(){this.isLoginModalOpen=!1}}},G=q,N=(n("ea08"),Object(g["a"])(G,O,j,!1,null,null,null)),U=N.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"account-menu"},[e.account?n("div",[n("h2",{staticClass:"display-name"},[e._v(e._s(e.account.displayName))]),n("div",{staticClass:"menu-item",on:{click:function(t){return e.logout()}}},[n("span",{staticClass:"menu-heading logout"},[e._v("logOut")])])]):n("div",[n("div",{staticClass:"menu-item",on:{click:function(t){return e.openRegisterModal()}}},[n("span",{staticClass:"menu-heading"},[e._v("Register")])]),n("div",{staticClass:"menu-item",on:{click:function(t){return e.openLoginModal()}}},[n("span",{staticClass:"menu-heading"},[e._v("Login")])])])])},S=[],E={data:function(){return{displayName:null,isLoading:!0}},props:{account:{type:Object,default:null}},methods:{refresh:function(e){this.account=e},openRegisterModal:function(){xo.$emit("open:widget",{name:"register"})},openLoginModal:function(){xo.$emit("open:widget",{name:"login"})},logout:function(){xo.$emit("account:logout")}}},F=E,L=(n("067c"),Object(g["a"])(F,R,S,!1,null,null,null)),A=L.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video-nav inner-list "},[n("follows",{attrs:{initialOpen:"",account:e.account}})],1)},Q=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["follows"]},[n("div",{staticClass:"follow-container"},e._l(e.follows,(function(t){return n("div",{key:t.id},[n("div",{staticClass:"follow",on:{click:function(n){return e.navigate(t)}}},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.name,expression:"follow.name",modifiers:{right:!0}}],staticClass:"avatar"},[t.imageUrl?n("img",{attrs:{src:t.imageUrl}}):n("div",{staticClass:"blank-avatar"})])])])})),0)])},B=[],H=(n("55dd"),n("2909")),z={name:"follows",props:{initialOpen:{type:Boolean,default:!1},account:{type:Object,default:null}},data:function(){return{follows:[],isOpen:!1,isLoading:!1}},computed:{componentStyle:function(){return"[{opened: }]"}},mounted:function(){this.getFollows(),this.isOpen=this.initialOpen},methods:{getFollows:function(){var e,t,n;this.account.followedGames.length>0&&(e=this.follows).push.apply(e,Object(H["a"])(this.account.followedGames));this.account.followedCharacters.length>0&&(t=this.follows).push.apply(t,Object(H["a"])(this.account.followedCharacters));this.account.followedPlayers.length>0&&(n=this.follows).push.apply(n,Object(H["a"])(this.account.followedPlayers));this.follows.sort((function(e,t){return e.addedDate>t.addedDate?1:-1})),this.isLoading=!0,this.games=this.followedGames,this.isLoading=!1},toggleOpen:function(){this.isOpen=!this.isOpen},collapse:function(){this.isOpen=!1},routeToGame:function(e){this.$router.push("/game/".concat(e))},navigate:function(e){this.$router.push("/".concat(e.type,"/").concat(e.id))}}},X=z,Y=(n("202b"),Object(g["a"])(X,W,B,!1,null,null,null)),J=Y.exports,K={components:{follows:J},props:{account:{type:Object,default:null}},data:function(){return{followedCharacters:null,followedGames:null,followedPlayers:null}},mounted:function(){}},Z=K,ee=Object(g["a"])(Z,D,Q,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"combo-nav inner-list "},[n("h2",[e._v("Combos")]),n("game-select-menu-item",{ref:"gameSelect",attrs:{initialOpen:""},on:{"game-selected":function(t){return e.updateGame(t)}},model:{value:e.selectedGame,callback:function(t){e.selectedGame=t},expression:"selectedGame"}}),e.selectedGame?n("character-select-menu-item",{ref:"characterSelect",attrs:{gameId:e.selectedGame.id},on:{"character-selected":function(t){return e.updateCharacter(t)}},model:{value:e.selectedCharacter,callback:function(t){e.selectedCharacter=t},expression:"selectedCharacter"}}):e._e()],1)},ae=[],ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{opened:e.isOpen},"character-select-menu-item"]},[n("div",{staticClass:"menu-item",on:{click:e.toggleOpen}},[e._v("\n        "+e._s(e.title)+"\n        "),n("v-icon",[e._v("\n            mdi-chevron-down\n        ")])],1),e.isOpen?n("div",{staticClass:"characters"},[e.isLoading?e._e():n("multiselect",{attrs:{options:e.characters,"close-on-select":!0,"clear-on-select":!0,"preserve-search":!0,"custom-label":e.customLabel,placeholder:"Characters",label:"name","track-by":"id"},on:{input:function(t){return e.selectCharacter(t)}},scopedSlots:e._u([{key:"singleLabel",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.imageUrl}}),n("span",{staticClass:"option__name"},[e._v(e._s(t.option.name))])]}},{key:"option",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.imageUrl,alt:"No Man’s Sky"}}),n("div",{staticClass:"option__desc"},[n("span",{staticClass:"option__name"},[e._v(e._s(t.option.name))])])]}}],null,!1,3048201033),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e()])},re=[],oe={fetchCharacters:function(){return m().get("characters")},addCharacter:function(e){return m().post("characters",e)},addBulkCharacters:function(e){return m().post("characters?bulk=true",e)},queryCharacters:function(e){var t=e.map((function(e){return e.queryName})),n=e.map((function(e){return e.queryValue}));return m().get("characterQuery?queryName="+t.join(",")+"&queryValue="+n.join(","),e)},updateCharacter:function(e){return m().put("characters/"+e.id,e)},getCharacter:function(e){return m().get("characters/"+e.id)},deleteCharacter:function(e){return m().delete("characters/"+e)}},se={name:"character-menu-select",props:{initialOpen:{type:Boolean,default:!1},gameId:{type:String,default:null},value:{type:String,default:null},title:{type:String,default:"Characters"}},data:function(){return{characters:[],isOpen:!1,characterMenuOpen:!1,isLoading:!1}},computed:{routeCharacterId:function(){return"Character"===this.$route.name?this.$route.params.id:null}},watch:{gameId:function(){this.getCharacters()},routeCharacterId:function(){this.getCharacter()}},mounted:function(){this.gameId?this.getCharacters():this.getCharacter(),this.isOpen=this.initialOpen},methods:{customLabel:function(e){var t=e.name;return"".concat(t)},getCharacters:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,t=null,"all"==this.value){e.next=8;break}return e.next=5,oe.queryCharacters([{queryName:"GameId",queryValue:this.gameId}]);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,oe.fetchCharacters();case 10:t=e.sent;case 11:this.characters=t.data.characters.map((function(e){return{id:e._id,name:e.Name,imageUrl:e.AvatarUrl}})),this.isLoading=!1;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCharacter:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.getCharacter({id:this.value});case 2:t=e.sent,this.$emit("gameUpdate",{gameId:t.data.GameId}),this.value={id:t.data._id,name:t.data.Name,imageUrl:t.data.AvatarUrl};case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectCharacter:function(e){this.characters.forEach((function(e){e.selected=!1})),e.selected=!0,this.$emit("character-selected",e),this.characterMenuOpen=!1},toggleOpen:function(){this.$emit("selectExpand"),this.isOpen=!this.isOpen},clearCharater:function(){this.isOpen=!1,this.value=null},collapse:function(){this.isOpen=!1}}},ce=se,le=(n("5f76"),Object(g["a"])(ce,ie,re,!1,null,null,null)),ue=le.exports;b()(le,{VIcon:C["a"]});var de={components:{"game-select-menu-item":_,"character-select-menu-item":ue},data:function(){return{selectedGame:{id:null},selectedCharacter:null}},methods:{updateGame:function(e){var t={type:"Game",value:e.id};this.$refs.gameSelect.collapse(),this.selectedGame=e,this.$emit("set-search",t)},updateCharacter:function(e){var t={type:"Character",value:e.id};this.selectedCharacter=e,this.$emit("set-search",t)}}},he=de,me=Object(g["a"])(he,ne,ae,!1,null,null,null),pe=me.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"match-nav inner-list"},[n("h2",[e._v("Matches")]),n("game-select-menu-item",{ref:"gameSelect",attrs:{initialOpen:""},on:{"game-selected":function(t){return e.updateGame(t)}},model:{value:e.selectedGame,callback:function(t){e.selectedGame=t},expression:"selectedGame"}}),e.selectedGame?n("character-select-menu-item",{ref:"characterSelect",attrs:{gameId:e.selectedGame.id},on:{"character-selected":function(t){return e.updateCharacter(t)}},model:{value:e.selectedCharacter,callback:function(t){e.selectedCharacter=t},expression:"selectedCharacter"}}):e._e()],1)},ve=[],ge={components:{"game-select-menu-item":_,"character-select-menu-item":ue},data:function(){return{selectedGame:{id:null},selectedCharacter:null}},methods:{updateGame:function(e){this.$refs.gameSelect.collapse(),this.selectedGame=e,xo.$emit("search",{queryName:"GameId",queryValue:e.id})},updateCharacter:function(e){this.selectedCharacter=e,xo.$emit("search",{queryName:"CharacterId",queryValue:e.id})}}},ye=ge,be=Object(g["a"])(ye,fe,ve,!1,null,null,null),Ce=be.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"player-nav inner-list "},[e.selectedPlayer?n("div",[n("div",{staticClass:"player-header"},[n("h2",[e._v(e._s(e.selectedPlayer.name))]),e.isFollowed?n("v-btn",{staticClass:"unfollow-btn",on:{click:function(t){return e.unfollowPlayer()}}},[n("v-icon",[e._v(" mdi-heart-outline ")])],1):n("v-btn",{staticClass:"follow-btn",on:{click:function(t){return e.followPlayer()}}},[n("v-icon",[e._v("\n                    mdi-heart\n                ")])],1)],1),n("h3",[e._v("Filter videos by...")]),n("div",[n("game-select-menu-item",{ref:"gameSelect",on:{selectExpand:function(t){return e.collapseSelect()},"game-selected":function(t){return e.gameQuery(t)}}})],1),n("div",[n("character-select-menu-item",{ref:"characterSelect",attrs:{gameId:"all"},on:{selectExpand:function(t){return e.collapseSelect()},"character-selected":function(t){return e.characterQuery(t)}}})],1),n("div",[n("character-select-menu-item",{ref:"characterMatchupSelect",attrs:{title:"Matchup",gameId:"all"},on:{selectExpand:function(t){return e.collapseSelect()},"character-selected":function(t){return e.matchupCharacterQuery(t)}}})],1)]):n("div",[n("h2",[e._v("Players")]),n("player-select-menu-item",{ref:"playerSelect",attrs:{initialOpen:"",title:"Find Players"},on:{"player-selected":function(t){return e.updatePlayer(t)}},model:{value:e.selectedPlayer,callback:function(t){e.selectedPlayer=t},expression:"selectedPlayer"}})],1)])},_e=[],Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[{opened:e.isOpen},"player-select-menu-item"]},[n("div",{staticClass:"menu-item",on:{click:e.toggleOpen}},[e._v("\n        "+e._s(e.title)+"\n        "),n("v-icon",[e._v("\n            mdi-chevron-down\n        ")])],1),e.isOpen?n("div",{staticClass:"players"},[n("v-autocomplete",{attrs:{items:e.players,"menu-props":{closeOnContentClick:!0},label:"Players","item-text":"name","item-value":"id","return-object":"",outlined:"",flat:"","small-chips":"",dense:""},on:{change:function(t){return e.selectPlayers(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1):e._e()])},ke=[],xe={fetchPlayers:function(){return m().get("players")},addPlayer:function(e){return m().post("player",e)},updatePlayer:function(e){return m().put("players/"+e.id,e)},getPlayer:function(e){return m().get("players/"+e.id)},deletePlayer:function(e){return m().delete("players/"+e)}},Ie={name:"player-select",props:{initialOpen:{type:Boolean,default:!1},value:{type:Object,default:null},title:{type:String,default:"Players"}},data:function(){return{players:[],isOpen:!1,isLoading:!1}},computed:{componentStyle:function(){return"[{opened: }]"}},mounted:function(){this.getPlayers(),this.isOpen=this.initialOpen},methods:{getPlayers:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,xe.fetchPlayers();case 3:t=e.sent,this.players=t.data.players.map((function(e){return{id:e._id,name:e.Name,selected:!1}})),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectPlayers:function(e){this.players.forEach((function(e){e.selected=!1})),e.selected=!0,this.$emit("player-selected",e)},toggleOpen:function(){this.isOpen=!this.isOpen},collapse:function(){this.isOpen=!1}}},Te=Ie,$e=(n("196c"),n("c6a6")),Pe=Object(g["a"])(Te,Ve,ke,!1,null,null,null),Oe=Pe.exports;b()(Pe,{VAutocomplete:$e["a"],VIcon:C["a"]});var je={components:{"player-select-menu-item":Oe,"game-select-menu-item":_,"character-select-menu-item":ue},data:function(){return{selectedPlayer:null,players:null,isFollowed:!1}},computed:{selectedPlayerId:function(){return this.$route.params&&this.$route.params.id?this.$route.params.id:null}},mounted:function(){this.getPlayers()},created:function(){xo.$on("account:update",this.isPlayerFollowed)},beforeDestroy:function(){xo.$off("account:update",this.isPlayerFollowed)},methods:{getPlayers:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,xe.fetchPlayers();case 3:t=e.sent,this.players=t.data.players.map((function(e){return{id:e._id,name:e.Name,selected:!1}})),this.setActivePlayer(),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setActivePlayer:function(){var e=this;this.$route.params&&this.$route.params.id&&(this.selectedPlayer=this.players.filter((function(t){return t.id===e.$route.params.id}))[0]),this.isPlayerFollowed()},isPlayerFollowed:function(){var e=this;this.isFollowed=this.$attrs.account.followedPlayers.some((function(t){return t.id===e.selectedPlayer.id}))},updatePlayer:function(e){var t={type:"Player",value:e.id};this.$refs.playerSelect.collapse(),this.selectedPlayer=e,this.$emit("set-search",t)},gameQuery:function(e){var t={queryName:"GameId",queryValue:e.id};xo.$emit("player-filter",t)},characterQuery:function(e){var t={queryName:"CharacterId",queryValue:e.id};xo.$emit("player-filter",t)},matchupCharacterQuery:function(e){var t={queryName:"PlayerMatchupCharacterId",queryValue:e.id};xo.$emit("player-filter",t)},collapseSelect:function(){this.$refs.characterSelect.collapse(),this.$refs.characterMatchupSelect.collapse(),this.$refs.gameSelect.collapse()},followPlayer:function(){xo.$emit("player:follow",this.selectedPlayer)},unfollowPlayer:function(){xo.$emit("player:unfollow",this.selectedPlayer)}}},Me=je,qe=(n("49d4"),n("8336")),Ge=Object(g["a"])(Me,we,_e,!1,null,null,null),Ne=Ge.exports;b()(Ge,{VBtn:qe["a"],VIcon:C["a"]});var Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?e._e():n("div",{staticClass:"game-nav inner-list"},[e.selectedGame?n("div",[n("div",{staticClass:"game-header"},[n("img",{staticClass:"game-avatar",attrs:{src:e.selectedGame.avatarUrl}}),n("h2",[e._v(e._s(e.selectedGame.title))])]),e.isFollowed?n("v-btn",{staticClass:"unfollow-btn",on:{click:function(t){return e.unfollowGame()}}},[n("v-icon",[e._v(" mdi-heart-outline ")])],1):n("v-btn",{staticClass:"follow-btn",on:{click:function(t){return e.followGame()}}},[n("v-icon",[e._v("\n                mdi-heart\n            ")])],1),n("h3",[e._v("Filter videos by...")]),n("div",[e.selectedGame?n("character-select-menu-item",{ref:"characterSelect",attrs:{gameId:e.selectedGame.id},on:{"character-selected":function(t){return e.updateCharacter(t)}},model:{value:e.selectedCharacter,callback:function(t){e.selectedCharacter=t},expression:"selectedCharacter"}}):e._e()],1),n("h3",[e._v("Matches")]),n("h3",[e._v("Combos")]),n("h3",[e._v("Montages")]),n("h3",[e._v("Top Players")]),n("div",[e._v("Coming soon...")])],1):n("div",[n("h2",[e._v("Games")]),n("game-select-menu-item",{ref:"gameSelect",attrs:{initialOpen:"",title:"Find Games"},on:{"game-selected":function(t){return e.updateGame(t)}},model:{value:e.selectedGame,callback:function(t){e.selectedGame=t},expression:"selectedGame"}})],1)])},Re=[],Se={components:{"game-select-menu-item":_,"character-select-menu-item":ue},props:{},data:function(){return{selectedGame:null,games:null,isFollowed:!1,isLoading:!1}},computed:{selectedGameId:function(){return this.$route.params&&this.$route.params.id?this.$route.params.id:null}},watch:{selectedGameId:function(){this.getGames()}},created:function(){xo.$on("account:update",this.isGameFollowed)},beforeDestroy:function(){xo.$off("account:update",this.isGameFollowed)},mounted:function(){this.getGames()},methods:{getGames:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,p.fetchGames();case 3:t=e.sent,this.games=t.data.games.map((function(e){return{id:e._id,title:e.Title,avatarUrl:e.LogoUrl}})),this.setActiveGame(),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setActiveGame:function(){var e=this;this.$route.params&&this.$route.params.id&&(this.selectedGame=this.games.filter((function(t){return t.id===e.$route.params.id}))[0]),this.isGameFollowed()},isGameFollowed:function(){var e=this;this.isFollowed=this.$attrs.account.followedGames.some((function(t){return t.id===e.selectedGame.id}))},updateCharacter:function(e){var t={type:"Character",value:e.id};this.$emit("set-search",t)},matchupGameFilter:function(e){var t={queryName:"GameMatchupGameId",queryValue:e.id};xo.$emit("game-filter",t)},collapseSelect:function(){this.$refs.gameSelect.collapse(),this.$refs.gameMatchupSelect.collapse(),this.$refs.gameSelect.collapse()},followGame:function(){xo.$emit("game:follow",this.selectedGame)},unfollowGame:function(){xo.$emit("game:unfollow",this.selectedGame)}}},Ee=Se,Fe=(n("df0c"),Object(g["a"])(Ee,Ue,Re,!1,null,null,null)),Le=Fe.exports;b()(Fe,{VBtn:qe["a"],VIcon:C["a"]});var Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?e._e():n("div",{staticClass:"character-nav inner-list"},[e.selectedCharacter?n("div",[n("div",{staticClass:"character-header"},[n("img",{staticClass:"character-avatar",attrs:{src:e.selectedCharacter.avatarUrl}}),n("h2",[e._v(e._s(e.selectedCharacter.name))])]),e.isFollowed?n("v-btn",{staticClass:"unfollow-btn",on:{click:function(t){return e.unfollowCharacter()}}},[n("v-icon",[e._v(" mdi-heart-outline ")])],1):n("v-btn",{staticClass:"follow-btn",on:{click:function(t){return e.followCharacter()}}},[n("v-icon",[e._v("\n                mdi-heart\n            ")])],1),n("h3",[e._v("Filter videos by...")]),n("div",[n("character-select-menu-item",{ref:"characterMatchupSelect",attrs:{title:"Matchup",gameId:e.selectedCharacter.gameId},on:{selectExpand:function(t){return e.collapseSelect()},"character-selected":function(t){return e.matchupCharacterFilter(t)}}})],1),n("h3",{on:{click:function(t){return e.filterMatches()}}},[e._v("Matches")]),n("h3",{on:{click:function(t){return e.filterCombos()}}},[e._v("Combos")]),n("h3",[e._v("Montages")]),n("h3",[e._v("Top Players")]),n("div",[e._v("Coming soon...")])],1):n("div",[n("h2",[e._v("Characters")]),n("character-select-menu-item",{ref:"characterSelect",attrs:{initialOpen:"",title:"Find Characters"},on:{"character-selected":function(t){return e.updateCharacter(t)}},model:{value:e.selectedCharacter,callback:function(t){e.selectedCharacter=t},expression:"selectedCharacter"}})],1)])},De=[],Qe={components:{"character-select-menu-item":ue},props:{},data:function(){return{selectedCharacter:null,characters:null,isFollowed:!1}},computed:{selectedCharacterId:function(){return this.$route.params&&this.$route.params.id?this.$route.params.id:null}},watch:{selectedCharacterId:function(){this.getCharacters()}},created:function(){xo.$on("account:update",this.isCharacterFollowed)},beforeDestroy:function(){xo.$off("account:update",this.isCharacterFollowed)},mounted:function(){this.getCharacters()},methods:{getCharacters:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,oe.fetchCharacters();case 3:t=e.sent,this.characters=t.data.characters.map((function(e){return{id:e._id,name:e.Name,gameId:e.GameId,avatarUrl:e.AvatarUrl}})),this.setActiveCharacter(),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setActiveCharacter:function(){var e=this;this.$route.params&&this.$route.params.id&&(this.selectedCharacter=this.characters.filter((function(t){return t.id===e.$route.params.id}))[0]),this.isCharacterFollowed()},isCharacterFollowed:function(){var e=this;this.isFollowed=this.$attrs.account.followedCharacters.some((function(t){return t.id===e.selectedCharacter.id}))},updateCharacter:function(e){var t={type:"Character",value:e.id};this.$refs.characterSelect.collapse(),this.selectedCharacter=e,this.$emit("set-search",t)},matchupCharacterFilter:function(e){var t={queryName:"CharacterMatchupCharacterId",queryValue:e.id};xo.$emit("character-query",t)},filterMatches:function(){xo.$emit("character-filter","Match")},filterCombos:function(){xo.$emit("character-filter","Combo")},collapseSelect:function(){this.$refs.characterSelect.collapse(),this.$refs.characterMatchupSelect.collapse(),this.$refs.gameSelect.collapse()},followCharacter:function(){xo.$emit("character:follow",this.selectedCharacter)},unfollowCharacter:function(){xo.$emit("character:unfollow",this.selectedCharacter)}}},We=Qe,Be=(n("3ce2"),Object(g["a"])(We,Ae,De,!1,null,null,null)),He=Be.exports;b()(Be,{VBtn:qe["a"],VIcon:C["a"]});var ze={components:{"game-select-menu-item":_,"collection-select-menu-item":P,"video-menu":te,"combo-menu":pe,"match-menu":Ce,"player-menu":Ne,"game-menu":Le,"character-menu":He,"general-search":U,user:A},props:{account:{type:Object,default:null}},data:function(){return{mini:!0,selectedMain:{title:"Videos",icon:"mdi-video"},selectedGame:{id:null},selectedCharacterId:null,createOptions:[{name:"Video",value:"video"},{name:"Game",value:"game"},{name:"Player",value:"player"},{name:"Creator",value:"creator"},{name:"Character",value:"character"},{name:"Tournament",value:"tournament"}]}},computed:{routeName:function(){return this.$route.name},routeValue:function(){return this.$route.params.id},mainItems:function(){return[{title:"Explore",icon:"mdi-gamepad-square",hasAccess:!0,subMenu:!1},{title:"Favorites",icon:"mdi-heart",hasAccess:this.hasAccount,subMenu:!0},{title:"Add",icon:"mdi-plus",hasAccess:this.isAdmin},{title:"Collections",icon:"mdi-book-variant-multiple",hasAccess:this.hasAccount,subMenu:!0},{title:"Search",icon:"mdi-magnify",hasAccess:this.isAdmin,subMenu:!1}]},hasAccount:function(){return!!this.account},isAdmin:function(){return!(!this.hasAccount||"Admin User"!==this.account.role)}},watch:{selectedMain:function(){this.selectedGame={id:null},this.selectedCharacterId=null,"Videos"===this.selectedMain.title&&this.$router.push("/"),"Matches"===this.selectedMain.title&&this.$router.push("/matches/"),"Combos"===this.selectedMain.title&&this.$router.push("/combos/"),"Collections"===this.selectedMain.title&&this.$router.push("/collections/"),"Montages"===this.selectedMain.title&&this.$router.push("/montages/"),"Explore"===this.selectedMain.title&&this.$router.push("/explore/"),"Matchups"===this.selectedMain.title&&"MatchUps"!=this.routeName&&this.$router.push("/matchups/")},routeName:function(){"Character"===this.routeName&&(this.selectedMain={title:"Character",icon:"mdi-human-handsup"}),"MatchUps"===this.routeName&&(this.selectedMain={title:"Matchups",icon:"mdi-human-handsup"}),"Players"!==this.routeName&&"Player"!==this.routeName||(this.selectedMain={title:"Players",icon:"mdi-human-handsup"}),"Explore"===this.routeName&&(this.selectedMain={title:"Explore",icon:"mdi-human-handsup"}),"Game"===this.routeName&&(this.selectedMain={title:"Games",icon:"mdi-human-handsup"})},routeValue:function(){this.selectedCharacterId=this.routeValue}},created:function(){"Character"===this.routeName&&(this.selectedMain={title:"Character",icon:"mdi-human-handsup"},this.selectedCharacterId=this.$route.params.id),"MatchUps"===this.routeName&&(this.selectedMain={title:"Matchups",icon:"mdi-human-handsup"}),"Game"===this.routeName&&(this.selectedMain={title:"Games",icon:"mdi-human-handsup"}),"Players"!==this.routeName&&"Player"!==this.routeName||(this.selectedMain={title:"Players",icon:"mdi-human-handsup"})},methods:{updateMain:function(e){this.selectedMain=e},updateGame:function(e){var t={type:"Game",value:e.id};this.selectedGame=e,this.setSearch(t)},updateGameId:function(e){this.selectedGame={id:e.gameId}},updatePlayer:function(e){var t={type:"Player",value:e.id};this.setSearch(t)},updateCharacter:function(e){var t={type:"Character",value:e.id};this.setSearch(t)},matchupCharacter1:function(e){xo.$emit("matchup-character1",e.id)},matchupCharacter2:function(e){xo.$emit("matchup-character2",e.id)},setSearch:function(e){var t={name:e.type,value:e.value};this.$router.push("/".concat(t.name,"/").concat(t.value))},searchGame:function(e){this.selectedGame=e,xo.$emit("filter",{queryName:"GameId",queryValue:e.id})},searchCharacter:function(e){xo.$emit("filter",{queryName:"CharacterId",queryValue:e.id})},goToFavoriteMatch:function(){this.$router.push("/favorite-matches/")},goToFavoriteCombo:function(){this.$router.push("/favorite-combos/")},openCreateWidget:function(e){xo.$emit("open:widget",{name:e})},openLoginWidget:function(){xo.$emit("open:widget",{name:"login"})},openRegisterWidget:function(){xo.$emit("open:widget",{name:"register"})},emitMatch:function(){this.$refs.matchupSelect.clearCharater(),xo.$emit("character-filter","Match")},emitCombo:function(){this.$refs.matchupSelect.clearCharater(),xo.$emit("character-filter","Combo")},setMatchup:function(e){xo.$emit("matchup-filter",{character1:this.selectedCharacterId,character2:e.id})}}},Xe=ze,Ye=(n("d994"),n("b0af")),Je=n("ce7e"),Ke=n("adda"),Ze=n("8860"),et=n("da13"),tt=n("1800"),nt=n("8270"),at=n("f774"),it=n("0fd9"),rt=Object(g["a"])(Xe,s,c,!1,null,null,null),ot=rt.exports;b()(rt,{VCard:Ye["a"],VDivider:Je["a"],VIcon:C["a"],VImg:Ke["a"],VList:Ze["a"],VListItem:et["a"],VListItemAction:tt["a"],VListItemAvatar:nt["a"],VNavigationDrawer:at["a"],VRow:it["a"]});var st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modals"},[n("v-btn",{staticClass:"close-btn",attrs:{color:"error",fab:"",large:"",dark:""},on:{click:function(t){return e.closeModal()}}},[n("v-icon",[e._v("mdi-close")])],1),"game"===e.options.name?n("new-game",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"creator"===e.options.name?n("new-creator",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"player"===e.options.name?n("new-player",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"video"===e.options.name?n("new-video",{attrs:{videoId:e.options.videoId},on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"character"===e.options.name?n("new-character",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"tournament"===e.options.name?n("new-tournament",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"register"===e.options.name?n("register",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"login"===e.options.name?n("login",{on:{closeModal:function(t){return e.closeModal()}}}):e._e(),"collections"===e.options.name?n("collections",{attrs:{account:e.account},on:{closeModal:function(t){return e.closeModal()}}}):e._e()],1)},ct=[],lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"games"},["new-game"===e.step?n("div",{staticClass:"add-game-container"},[n("h1",[e._v("Add Game")]),n("div",{staticClass:"form"},[e.game.logoUrl?n("div",{staticClass:"logo-img-container"},[n("img",{staticClass:"logo",attrs:{src:e.game.logoUrl}}),n("v-btn",{staticClass:"remove-image-btn",on:{click:function(t){e.game.logoUrl=""}}},[e._v("X")])],1):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.game.title,expression:"game.title"}],attrs:{type:"text",name:"title",placeholder:"Title"},domProps:{value:e.game.title},on:{input:function(t){t.target.composing||e.$set(e.game,"title",t.target.value)}}}),e.game.logoUrl?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.game.logoUrl,expression:"game.logoUrl"}],attrs:{type:"text",id:"import-image",placeholder:"Logo Url"},domProps:{value:e.game.logoUrl},on:{input:function(t){t.target.composing||e.$set(e.game,"logoUrl",t.target.value)}}}),n("div",{staticClass:"bulk-add-characters"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.unfilteredCharacters,expression:"unfilteredCharacters"}],attrs:{name:"character",placeholder:"Character Names (separated by commas)"},domProps:{value:e.unfilteredCharacters},on:{input:function(t){t.target.composing||(e.unfilteredCharacters=t.target.value)}}})]),n("div",[n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.nextStep()}}},[e._v("next")])],1)])]):n("div",{staticClass:"character-detail-container"},[e.characterList?n("div",{staticClass:"game-characters-lists-container"},[n("label",[e._v("Character Count: ("+e._s(e.characterList.length)+")")]),n("ul",{staticClass:"character-list"},e._l(e.characterList,(function(t,a){return n("li",{key:t.name},[t.imageUrl?n("div",{staticClass:"player-img-container"},[n("img",{staticClass:"player-img",attrs:{src:t.imageUrl}}),n("v-btn",{staticClass:"remove-image-btn",on:{click:function(e){t.imageUrl=""}}},[e._v("X")])],1):e._e(),n("p",{staticClass:"character-name"},[e._v(e._s(t.name))]),t.imageUrl?e._e():n("v-text-field",{attrs:{id:"import-image",type:"text",placeholder:"image Url"},model:{value:t.imageUrl,callback:function(n){e.$set(t,"imageUrl",n)},expression:"character.imageUrl"}}),n("v-btn",{staticClass:"remove-character-btn",on:{click:function(t){return e.removeCharacter(a)}}},[e._v("X")])],1)})),0)]):e._e(),n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.addGame()}}},[e._v("Save Game")])],1)])},ut=[],dt=(n("28a5"),n("c1df")),ht=n.n(dt),mt={name:"NewGame",data:function(){return{game:{title:"",id:"",logoUrl:""},unfilteredCharacters:"",characterList:[],step:"new-game"}},methods:{nextStep:function(){this.characterList=this.characters,this.step="character-list"},addGame:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.addGame({Title:this.game.title,LogoUrl:this.game.logoUrl});case 2:this.getGameId();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getGameId:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.queryGames([{queryName:"Title",queryValue:this.game.title}]);case 2:t=e.sent,this.game.id=t.data.games[0]._id,this.addCharacters();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addCharacters:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.addBulkCharacters(this.characters.map((function(e){return{Name:e.name,ImageUrl:e.imageUrl,GameId:t.game.id}})));case 2:xo.$emit("updateSearch"),this.$emit("closeModal");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeCharacter:function(e){this.characterList.splice(e,1)},removeLogo:function(){this.game.logoUrl=""}},computed:{characters:function(){var e=this.unfilteredCharacters.split(",").map((function(e){return{name:e.trim(),imageUrl:""}}));return e},timestamp:function(){return ht()().format()}}},pt=mt,ft=(n("2c79"),n("8654")),vt=Object(g["a"])(pt,lt,ut,!1,null,null,null),gt=vt.exports;b()(vt,{VBtn:qe["a"],VTextField:ft["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-creator"},[n("h1",[e._v("Add Creator")]),n("div",{staticClass:"form"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.contentCreator.name,expression:"contentCreator.name"}],attrs:{type:"text",name:"name",placeholder:"Creator Name"},domProps:{value:e.contentCreator.name},on:{input:function(t){t.target.composing||e.$set(e.contentCreator,"name",t.target.value)}}}),e.contentCreator.logoUrl?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.contentCreator.logoUrl,expression:"contentCreator.logoUrl"}],attrs:{id:"import-image",type:"text",placeholder:"Logo Url"},domProps:{value:e.contentCreator.logoUrl},on:{input:function(t){t.target.composing||e.$set(e.contentCreator,"logoUrl",t.target.value)}}}),e.contentCreator.logoUrl?n("div",{staticClass:"creator-img-container"},[n("img",{staticClass:"creator-img",attrs:{src:e.contentCreator.logoUrl}}),n("v-btn",{on:{click:function(t){e.contentCreator.logoUrl=""}}},[e._v("X")])],1):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.contentCreator.youtubeUrl,expression:"contentCreator.youtubeUrl"}],attrs:{type:"text",name:"youtubeChannel",placeholder:"Youtube Channel"},domProps:{value:e.contentCreator.youtubeUrl},on:{input:function(t){t.target.composing||e.$set(e.contentCreator,"youtubeUrl",t.target.value)}}})]),n("div",[n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.addCreator()}}},[e._v("Add")])],1)])])},bt=[],Ct={fetchCreators:function(){return m().get("creators")},addCreator:function(e){return m().post("creator",e)},queryCreators:function(e){var t=e.map((function(e){return e.queryName})),n=e.map((function(e){return e.queryValue}));return m().get("creatorQuery?queryName="+t.join(",")+"&queryValue="+n.join(","),e)},updateCreator:function(e){return m().put("creators/"+e.id,e)},getCreator:function(e){return m().get("creators/"+e.id)},deleteCreator:function(e){return m().delete("creators/"+e)}},wt={components:{},name:"NewCreator",data:function(){return{contentCreator:{name:null,logoUrl:null,youtubeUrl:null}}},methods:{addCreator:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.addCreator({Name:this.contentCreator.name,LogoUrl:this.contentCreator.logoUrl,YoutubeUrl:this.contentCreator.youtubeUrl});case 2:this.$emit("closeModal");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCreators:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.fetchCreators();case 2:t=e.sent,this.creators=t.data.creators;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),collectCreatorIds:function(){this.creatorIds=this.selectedCreators.map((function(e){return e._id}))}},computed:{timestamp:function(){return ht()().format()}},mounted:function(){this.getCreators()}},_t=wt,Vt=(n("a8f8"),Object(g["a"])(_t,yt,bt,!1,null,null,null)),kt=Vt.exports;b()(Vt,{VBtn:qe["a"]});var xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-player"},[n("h1",[e._v("Add Player")]),n("div",{staticClass:"form"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.imageUrl,expression:"player.imageUrl"}],attrs:{id:"import-image",type:"text",placeholder:"Player Image Url"},domProps:{value:e.player.imageUrl},on:{input:function(t){t.target.composing||e.$set(e.player,"imageUrl",t.target.value)}}}),e.player.imageUrl?n("div",{staticClass:"player-img-container"},[n("img",{staticClass:"player-img",attrs:{src:e.player.imageUrl}}),n("v-btn",{on:{click:function(t){e.player.imageUrl=""}}},[e._v("X")])],1):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.player.name,expression:"player.name"}],attrs:{type:"text",name:"name",placeholder:"Player Name"},domProps:{value:e.player.name},on:{input:function(t){t.target.composing||e.$set(e.player,"name",t.target.value)}}})]),n("div",[n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.addPlayer()}}},[e._v("Add Player")])],1)])])},It=[],Tt={components:{},name:"NewPlayer",data:function(){return{player:{name:"",region:"",imageUrl:""}}},methods:{addPlayer:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.addPlayer({PlayerName:this.player.name,PlayerImg:this.player.imageUrl});case 2:this.$emit("closeModal");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},$t=Tt,Pt=(n("81d4"),Object(g["a"])($t,xt,It,!1,null,null,null)),Ot=Pt.exports;b()(Pt,{VBtn:qe["a"]});var jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading&&e.videoId?e._e():n("div",{staticClass:"post-video"},[n("div",{staticClass:"formcontainer"},[e.videoId?n("h1",[e._v("Edit Video")]):n("h1",[e._v("Add Video")]),n("div",{directives:[{name:"show",rawName:"v-show",value:"Video"===e.currentStep,expression:"currentStep === 'Video'"}],staticClass:"video-step"},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.showErrorMessage&&!e.video.contentType,expression:"showErrorMessage && !video.contentType"}],staticClass:"error-msg"},[e._v("\n                Please select content type\n            ")]),n("multiselect",{attrs:{options:e.contentTypes,multiple:!1,"close-on-select":!0,"clear-on-select":!1,placeholder:"Select Content Type"},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                        Select Content Type\n                    ")]):e._e()]}}],null,!1,3607328040),model:{value:e.video.contentType,callback:function(t){e.$set(e.video,"contentType",t)},expression:"video.contentType"}}),n("p",{directives:[{name:"show",rawName:"v-show",value:e.showErrorMessage&&!e.video.gameId,expression:"showErrorMessage && !video.gameId"}],staticClass:"error-msg"},[e._v("Please Game")]),n("div",{staticClass:"game-container"},[n("game-search",{on:{"update:game":function(t){return e.setGame(t)}},model:{value:e.video.gameId,callback:function(t){e.$set(e.video,"gameId",t)},expression:"video.gameId"}})],1),e.videoId?e._e():n("div",{staticClass:"video-container"},[n("v-radio-group",{attrs:{mandatory:!1},model:{value:e.video.origin,callback:function(t){e.$set(e.video,"origin",t)},expression:"video.origin"}},[n("v-radio",{attrs:{label:"From the web",value:"web"}}),n("v-radio",{attrs:{label:"From my computer",value:"computer"}})],1),"web"==e.video.origin?n("div",{staticClass:"import-video-container"},[n("v-text-field",{attrs:{id:"import-video",type:"text",placeholder:"Video Url"},model:{value:e.importVideoUrl,callback:function(t){e.importVideoUrl=t},expression:"importVideoUrl"}}),e.isVideoClipped||"youtube"!==e.video.type?e._e():n("v-btn",{staticClass:"players-btn",attrs:{tile:"",color:"indigo"},on:{click:function(t){e.isVideoClipped=!e.isVideoClipped}}},[e._v("\n                        Clip Video\n                    ")]),e.isVideoClipped?n("div",{staticClass:"video-clip-container"},[n("div",{staticClass:"startTime"},[n("v-text-field",{attrs:{type:"Number",placeholder:"Start Time"},model:{value:e.video.startTime,callback:function(t){e.$set(e.video,"startTime",t)},expression:"video.startTime"}})],1),n("div",{staticClass:"endTime"},[n("v-text-field",{attrs:{type:"Number",placeholder:"End Time"},model:{value:e.video.endTime,callback:function(t){e.$set(e.video,"endTime",t)},expression:"video.endTime"}})],1)]):e._e()],1):n("div",{staticClass:"upload-video-container"},[n("upload-video",{ref:"videoUploader",on:{"upload:video":function(t){return e.setUploadedVideo(t)}}})],1)],1)],1),"Match"===e.currentStep?n("div",{staticClass:"match-step"},[n("v-checkbox",{attrs:{label:"Tournament Match?"},model:{value:e.isTournament,callback:function(t){e.isTournament=t},expression:"isTournament"}}),e.isTournament?n("tournament-search",{model:{value:e.video.match.tournamentId,callback:function(t){e.$set(e.video.match,"tournamentId",t)},expression:"video.match.tournamentId"}}):e._e(),n("div",{staticClass:"creator-container"},[n("creator-search",{on:{"update:creator":function(t){return e.setCreator(t)}},model:{value:e.video.contentCreatorId,callback:function(t){e.$set(e.video,"contentCreatorId",t)},expression:"video.contentCreatorId"}})],1),n("div",{staticClass:"players-container"},[n("h2",[e._v("Players")]),n("div",{staticClass:"team1"},[e._l(e.video.match.team1Players,(function(t,a){return n("div",{key:a},[n("player-search",{on:{"update:player":function(t){return e.addPlayerToTeam1(t,a)}},model:{value:t.id,callback:function(n){e.$set(t,"id",n)},expression:"player.id"}}),n("div",{staticClass:"character-container"},[n("h3",[e._v("Characters")]),n("character-search",{attrs:{gameId:e.video.gameId},on:{"update:character":function(n){return e.addCharacterToPlayer(n,t)}},model:{value:t.characterIds,callback:function(n){e.$set(t,"characterIds",n)},expression:"player.characterIds"}}),n("v-btn",{on:{click:function(n){return e.addCharacter(t)}}},[e._v("addCharacter")])],1)],1)})),n("v-btn",{on:{click:function(t){return e.addToTeam1()}}},[e._v("AddPlayers")])],2),n("div",{staticClass:"versus"},[e._v("Vs.")]),n("div",{staticClass:"team2"},[e._l(e.video.match.team2Players,(function(t,a){return n("div",{key:a},[n("player-search",{on:{"update:player":function(t){return e.addPlayerToTeam2(t,a)}},model:{value:t.id,callback:function(n){e.$set(t,"id",n)},expression:"player.id"}}),n("div",{staticClass:"character-container"},[n("h3",[e._v("Characters")]),n("character-search",{attrs:{gameId:e.video.gameId},on:{"update:character":function(n){return e.addCharacterToPlayer(n,t)}},model:{value:t.characterIds,callback:function(n){e.$set(t,"characterIds",n)},expression:"player.characterIds"}}),n("v-btn",{on:{click:function(n){return e.addCharacter(t)}}},[e._v("addCharacter")])],1)],1)})),n("v-btn",{on:{click:function(t){return e.addToTeam2()}}},[e._v("AddPlayers")])],2),n("div",{staticClass:"tag"},[n("tag-search",{attrs:{taggable:!0},on:{"update:tags":function(t){return e.setTags(t)}},model:{value:e.video.tags,callback:function(t){e.$set(e.video,"tags",t)},expression:"video.tags"}})],1)])],1):e._e(),"Combo"===e.currentStep?n("div",{staticClass:"combo-step"},[n("div",{staticClass:"combos-container"},["youtube"===e.video.type?n("youtube-media",{attrs:{"video-id":e.video.url,"player-width":400,"player-height":225,"player-vars":{rel:0}}}):e._e(),e._l(e.video.combos,(function(t,a){return n("div",{key:a,staticClass:"combo"},[n("div",{staticClass:"combo-title",on:{click:function(t){return e.expandComboMenu(a)}}},[n("h3",[e._v("Combo "+e._s(a+1))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isExpanded,expression:"combo.isExpanded"}],staticClass:"combo-container"},[e.showErrorMessage?n("div",{staticClass:"error-container"},[n("p",{staticClass:"error-msg"},[e._v("\n                                Please finish this combo before adding a new one.\n                            ")])]):e._e(),n("div",{staticClass:"character-container"},[n("character-search",{attrs:{gameId:e.video.gameId},on:{"update:character":function(n){return e.setComboCharacter(n,t)}},model:{value:t.characterId,callback:function(n){e.$set(t,"characterId",n)},expression:"combo.characterId"}})],1),n("div",{staticClass:"inputs-container"},[n("v-textarea",{attrs:{placeholder:"Combo Inputs"},model:{value:t.inputs,callback:function(n){e.$set(t,"inputs",n)},expression:"combo.inputs"}})],1),n("div",{staticClass:"combo-stats "},[n("div",{staticClass:"startTime input-container"},[n("v-text-field",{attrs:{type:"Number",placeholder:"Start Time"},model:{value:t.startTime,callback:function(n){e.$set(t,"startTime",n)},expression:"combo.startTime"}})],1),n("div",{staticClass:"endTime input-container"},[n("v-text-field",{attrs:{type:"Number",placeholder:"End Time"},model:{value:t.endTime,callback:function(n){e.$set(t,"endTime",n)},expression:"combo.endTime"}})],1),n("div",{staticClass:"damage input-container"},[n("v-text-field",{staticClass:"damage",attrs:{type:"Number",placeholder:"Damage"},model:{value:t.damage,callback:function(n){e.$set(t,"damage",n)},expression:"combo.damage"}})],1),n("div",{staticClass:"hits input-container"},[n("v-text-field",{staticClass:"hits",attrs:{placeholder:"Hits",type:"Number"},model:{value:t.hits,callback:function(n){e.$set(t,"hits",n)},expression:"combo.hits"}})],1)]),n("div",{staticClass:"tag"},[n("tag-search",{attrs:{taggable:!0},on:{"update:tags":function(n){return e.setTags(n,t)}},model:{value:e.video.tags,callback:function(t){e.$set(e.video,"tags",t)},expression:"video.tags"}})],1),n("v-btn",{staticClass:"add-combo-btn",attrs:{rounded:""},on:{click:function(t){return e.addCombo(a)}}},[e._v("Add More Combo")])],1)])}))],2)]):e._e(),"Montage"===e.currentStep?n("div",{staticClass:"match-step"},[n("p",{staticClass:"error-msg"},[e._v("\n                "+e._s(e.error)+"\n            ")]),n("div",{staticClass:"creator-container"},[n("creator-search",{on:{"update:creator":function(t){return e.setCreator(t)}},model:{value:e.video.contentCreatorId,callback:function(t){e.$set(e.video,"contentCreatorId",t)},expression:"video.contentCreatorId"}})],1),n("div",{staticClass:"players-container"},[n("h2",[e._v("Players")]),n("player-search",{on:{"update:player":function(t){return e.addPlayerToMontage(t)}},model:{value:e.video.montage.playerIds,callback:function(t){e.$set(e.video.montage,"playerIds",t)},expression:"video.montage.playerIds"}}),n("div",{staticClass:"character-container"},[n("h3",[e._v("Characters")]),n("character-search",{attrs:{gameId:e.video.gameId},on:{"update:character":function(t){return e.addCharacterToMontage(t)}},model:{value:e.video.montage.characterIds,callback:function(t){e.$set(e.video.montage,"characterIds",t)},expression:"video.montage.characterIds"}})],1),n("div",{staticClass:"tag"},[n("tag-search",{attrs:{taggable:!0},on:{"update:tags":function(t){return e.setTags(t)}},model:{value:e.video.tags,callback:function(t){e.$set(e.video,"tags",t)},expression:"video.tags"}})],1)],1)]):e._e(),"Video"===e.currentStep?n("v-btn",{staticClass:"video-btn",attrs:{rounded:""},on:{click:function(t){return e.nextStep()}}},[e._v("\n            Next\n        ")]):n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.setUpVideo()}}},[e._v("Submit")])],1)])},Mt=[],qt=(n("6762"),n("2fdb"),n("4917"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-media"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showProgress,expression:"showProgress"}]},[n("progress-bar",{attrs:{options:e.options,value:e.progress}})],1),n("form",[n("v-file-input",{attrs:{id:"file-input",type:"file",accept:"video/mp4",placeholder:"Upload Video"},on:{change:function(t){return e.handleFileChange(t)}}})],1)])}),Gt=[],Nt=n("527e"),Ut=n.n(Nt),Rt={name:"UploadVideo",components:{ProgressBar:Ut.a},data:function(){var e={text:{shadowColor:"black",fontSize:14,fontFamily:"Helvetica",dynamicPosition:!0},progress:{color:"#E8C401",backgroundColor:"#000000"},layout:{height:35,width:140,type:"line",progressPadding:0,verticalTextAlign:63}};return{file:null,cloudName:"shuzchef",formData:null,errors:[],progress:0,showProgress:!1,fileContents:null,preset:"video_upload",options:e,results:null}},methods:{handleFileChange:function(e){this.file=e},prepareFormData:function(){this.formData=new FormData,this.formData.append("upload_preset",this.preset),this.formData.append("file",this.fileContents)},upload:function(){var e=new FileReader;e.addEventListener("load",function(){var t=this;this.fileContents=e.result,this.prepareFormData();var n="https://api.cloudinary.com/v1_1/".concat(this.cloudName,"/upload"),a={url:n,method:"POST",data:this.formData,onUploadProgress:function(e){this.progress=Math.round(100*e.loaded/e.total)}.bind(this)};this.showProgress=!0,h()(a).then((function(e){t.results=e.data,t.videoUrl=e.data.secure_url,t.$emit("upload:video",t.videoUrl)})).catch((function(e){t.errors.push(e)})).finally((function(){setTimeout(function(){this.showProgress=!1}.bind(t),1e3)}))}.bind(this),!1),this.file&&this.file.name&&e.readAsDataURL(this.file)}}},St=Rt,Et=(n("b86e"),n("23a7")),Ft=Object(g["a"])(St,qt,Gt,!1,null,null,null),Lt=Ft.exports;b()(Ft,{VFileInput:Et["a"]});var At={fetchVideos:function(e){return m().get("videos?skip="+e,e)},addVideo:function(e){return m().post("video",e)},addVideos:function(e){return m().post("video?bulk=true",e)},queryVideos:function(e){var t=e.skip,n=["skip=".concat(t)];if(e.searchQuery){var a=e.searchQuery.map((function(e){return e.queryName})),i=e.searchQuery.map((function(e){return e.queryValue}));n.push("queryName=".concat(a.join(","))),n.push("queryValue=".concat(i.join(",")))}return e.sortOption&&n.push("sort=".concat(e.sortOption)),e.filter&&n.push("filter=".concat(e.filter)),e.tagFilter&&n.push("tag=".concat(e.tagFilter)),m().get("videoQuery?".concat(n.join("&")),e)},patchVideo:function(e){return m().put("video/"+e.id,e)},getVideo:function(e){return m().get("video/"+e)},deleteVideo:function(e){return m().delete("videos/"+e)},bulkDeleteVideos:function(){return m().post("bulkVideos/")},getVideos:function(){return m().post("getVideos/")},getComboVideo:function(e){return m().get("comboVideo/"+e)},getMatchVideo:function(e){return m().get("matchVideo/"+e)},queryMatchup:function(e){var t=e.skip;return m().get("characterMatchup?character1=".concat(e.searchQuery.character1,"&character2=").concat(e.searchQuery.character2,"&skip=").concat(t),e)}},Dt={fetchCombos:function(){return m().get("combos")},addCombo:function(e){return m().post("combos",e)},addBulkCombos:function(e){return m().post("combos?bulk=true",e)},patchCombo:function(e){return m().put("combo/"+e.id,e)},getCombo:function(e){return m().get("combo/"+e)},findCombo:function(e){return m().findOne("combos/"+e)},deleteCombo:function(e){return m().delete("combo/"+e)}},Qt={addMatch:function(e){return m().post("matches",e)},addMatches:function(e){return m().post("matches?bulk=true",e)},fetchMatches:function(){return m().get("matches")},patchMatch:function(e){return m().put("matches/"+e.id,e)},getMatch:function(e){return m().get("match/"+e)},getMatches:function(e){return m().get("matches/"+e)},deleteMatch:function(e){return m().delete("match/"+e)},queryMatches:function(e){var t=e.searchQuery.map((function(e){return e.queryName})),n=e.searchQuery.map((function(e){return e.queryValue}));return m().get("matchQuery?queryName="+t.join(",")+"&queryValue="+n.join(","),e)},patchMatches:function(e){return m().put("matches/",e)}},Wt={addMontage:function(e){return m().post("montages",e)},getMontage:function(e){return m().get("montage/"+e)}},Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"players-search"},[e.isLoading?e._e():n("multiselect",{attrs:{options:e.players,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,taggable:!0,placeholder:"Search or add a Player",label:"playerName"},on:{tag:function(t){return e.addPlayer(t)},input:e.setPlayer},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                Select Creator\n            ")]):e._e()]}}],null,!1,1896148357),model:{value:e.selectedPlayer,callback:function(t){e.selectedPlayer=t},expression:"selectedPlayer"}})],1)},Ht=[],zt=(n("c5f6"),{name:"PlayersSearch",props:{player:{type:Number,default:null},value:{type:String,default:null}},data:function(){return{players:[],selectedPlayer:null,isLoading:!0}},watch:{},mounted:function(){this.getPlayers()},created:function(){xo.$on("add:new-player",this.getPlayers)},beforeDestroy:function(){xo.$off("add:new-player",this.getPlayers)},methods:{addPlayer:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.addPlayer({Name:t.trim()});case 2:n=e.sent,a=n.data.playerId,this.getPlayers(a),xo.$emit("add:new-player");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getPlayers:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.fetchPlayers();case 2:n=e.sent,this.players=n.data.players.map((function(e){return{id:e._id,playerName:e.Name}})),t&&(this.selectedPlayer=this.players.filter((function(e){return e.id===t}))[0],this.setPlayer()),this.value&&(this.selectedPlayer=this.players.filter((function(e){return e.id===a.value}))),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setPlayer:function(){this.$emit("update:player",this.selectedPlayer)}}}),Xt=zt,Yt=Object(g["a"])(Xt,Bt,Ht,!1,null,null,null),Jt=Yt.exports,Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"character-search"},[e.characters?n("multiselect",{attrs:{options:e.characters,multiple:e.multiple,"close-on-select":!e.multiple,"clear-on-select":!0,"preserve-search":!0,taggable:e.taggable,"custom-label":e.customLabel,label:"name",placeholder:"Search or add a Character"},on:{input:function(t){return e.setCharacter(t)}},scopedSlots:e._u([{key:"singleLabel",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.imageUrl}}),n("span",{staticClass:"option__name"},[e._v(e._s(t.option.name))])]}},{key:"option",fn:function(t){return[n("img",{staticClass:"option__image",attrs:{src:t.option.imageUrl,alt:"No Man’s Sky"}}),n("div",{staticClass:"option__desc"},[n("span",{staticClass:"option__name"},[e._v(e._s(t.option.name))])])]}}],null,!1,3048201033),model:{value:e.selectedCharacters,callback:function(t){e.selectedCharacters=t},expression:"selectedCharacters"}}):e._e()],1)},Zt=[],en={name:"CharacterSearch",props:{taggable:{type:Boolean,default:!1},gameId:{type:String,default:null},value:{type:Array,default:null},multiple:{type:Boolean,default:!1}},data:function(){return{selectedCharacters:[],games:[],characterList:[],characters:[]}},watch:{gameId:function(){this.getCharacters()}},mounted:function(){this.getCharacters()},methods:{customLabel:function(e){var t=e.name;return"".concat(t)},setCharacter:function(){this.$emit("update:character",this.selectedCharacters)},getCharacters:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.queryCharacters([{queryName:"GameId",queryValue:this.gameId}]);case 2:t=e.sent,this.characters=t.data.characters.map((function(e){return{id:e._id,name:e.Name,imageUrl:e.AvatarUrl}})),this.value&&this.value.forEach((function(e){n.selectedCharacters.push(n.characters.filter((function(t){return t.id===e}))[0])}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},tn=en,nn=(n("3624"),Object(g["a"])(tn,Kt,Zt,!1,null,null,null)),an=nn.exports,rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"games-search"},[e.games?n("multiselect",{attrs:{options:e.games,multiple:e.taggable,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,taggable:e.taggable,placeholder:"Search or add a Game",label:"title"},on:{tag:e.addGame,input:e.setGame},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                Select Game\n            ")]):e._e()]}}],null,!1,1955624887),model:{value:e.selectedGame,callback:function(t){e.selectedGame=t},expression:"selectedGame"}}):e._e()],1)},on=[],sn={name:"GamesSearch",props:{taggable:{type:Boolean,default:!1},value:{type:String,default:null}},data:function(){return{games:[],selectedGame:null}},watch:{value:function(){this.getGames()}},mounted:function(){this.getGames()},methods:{addGame:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.addGame({GameTitle:t,CreatedDate:this.timestamp,UpdatedDate:null});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getGames:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.fetchGames();case 2:t=e.sent,this.games=t.data.games.map((function(e){return{id:e._id,title:e.Title,logoUrl:e.LogoUrl}})),this.value&&(this.selectedGame=this.games.filter((function(e){return e.id===n.value})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setGame:function(){this.$emit("update:game",this.selectedGame)}}},cn=sn,ln=Object(g["a"])(cn,rn,on,!1,null,null,null),un=ln.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"creators-search"},[n("multiselect",{attrs:{options:e.creators,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,taggable:!0,placeholder:"Search or add a Creator",label:"name"},on:{tag:function(t){return e.addCreator(t)},input:function(t){return e.setCreator()}},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                Select Creator\n            ")]):e._e()]}}]),model:{value:e.selectedCreator,callback:function(t){e.selectedCreator=t},expression:"selectedCreator"}})],1)},hn=[],mn={name:"CreatorsSearch",props:{creator:{type:Number,default:null},value:{type:String,default:null}},data:function(){return{creators:[],selectedCreator:null}},mounted:function(){this.getCreators()},methods:{addCreator:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.addCreator({Name:t,Logo:null,youtubeChannel:null});case 2:this.getCreators(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getCreators:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.fetchCreators();case 2:n=e.sent,this.creators=n.data.creators.map((function(e){return{id:e._id,name:e.Name,logo:e.Logo,youtubeChannel:e.YoutubeChannel}})),t&&(this.selectedCreator=this.creators.filter((function(e){return e.name===t.trim()}))[0],this.setCreator()),this.value&&(this.selectedCreator=this.creators.filter((function(e){return e.id===a.value})));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setCreator:function(){this.$emit("update:creator",this.selectedCreator)}}},pn=mn,fn=Object(g["a"])(pn,dn,hn,!1,null,null,null),vn=fn.exports,gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tournamnets-search"},[n("multiselect",{attrs:{options:e.tournaments,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,taggable:!0,placeholder:"Search or add a Tournament",label:"name"},on:{tag:e.addTournament,input:e.setTournament},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                Select Tournament\n            ")]):e._e()]}}]),model:{value:e.selectedTournament,callback:function(t){e.selectedTournament=t},expression:"selectedTournament"}})],1)},yn=[],bn={fetchTournaments:function(){return m().get("tournaments")},addTournament:function(e){return m().post("tournaments",e)},queryTournaments:function(e){var t=e.map((function(e){return e.queryName})),n=e.map((function(e){return e.queryValue}));return m().get("tournamentQuery?queryName="+t.join(",")+"&queryValue="+n.join(","),e)},updateTournament:function(e){return m().put("tournaments/"+e.id,e)},getTournament:function(e){return m().get("tournaments/"+e.id)},deleteTournament:function(e){return m().delete("tournaments/"+e)}},Cn={inject:["video"],name:"tournaments-search",props:{tournament:{type:Number}},data:function(){return{tournaments:[],selectedTournament:null}},watch:{selectedTournament:function(){this.video.tournament=this.selectedTournament}},methods:{addTournament:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bn.addTournament({Name:t,CreatedDate:this.timestamp,UpdatedDate:null});case 2:this.getTournaments();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getTournaments:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bn.fetchTournaments();case 2:t=e.sent,this.tournaments=t.data.tournaments.map((function(e){return{id:e._id,name:e.Name,games:e.Games?e.Games.map((function(e){return{id:e._id,title:e.title}})):null}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setTournament:function(){this.$emit("update:tournament",this.selectedTournament)}},mounted:function(){this.video&&(this.selectedTournament=this.video.Tournament),this.getTournaments()}},wn=Cn,_n=Object(g["a"])(wn,gn,yn,!1,null,null,null),Vn=_n.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tags-search"},[n("multiselect",{attrs:{options:e.tags,"clear-on-select":!1,"close-on-select":!e.multiple,multiple:e.multiple,taggable:e.taggable,placeholder:"Search or add a Tag",label:"name"},on:{tag:e.addTag},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=t.isOpen;return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v("\n                "+e._s(a.length)+" tags selected\n            ")]):e._e()]}}]),model:{value:e.selectedTags,callback:function(t){e.selectedTags=t},expression:"selectedTags"}})],1)},xn=[],In={fetchTags:function(){return m().get("tags")},addTag:function(e){return m().post("tags",e)},updateTag:function(e){return m().put("tags/"+e.id,e)},getTag:function(){return m().get("tags/")},findTag:function(e){return m().findOne("tags/"+e)},deleteTag:function(e){return m().delete("tags/"+e)}},Tn={name:"tags-search",props:{taggable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!0},value:{type:Array,default:null}},data:function(){return{tags:[],selectedTags:null}},watch:{selectedTags:function(){this.$emit("update:tags",this.selectedTags)}},mounted:function(){this.selectedTags=this.value,this.getTags()},methods:{addTag:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,In.addTag({TagName:t,CreatedDate:this.timestamp,UpdatedDate:null});case 2:this.getTags();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getTags:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,In.fetchTags();case 2:t=e.sent,this.tags=t.data.tags.map((function(e){return{id:e._id,name:e.TagName}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},$n=Tn,Pn=Object(g["a"])($n,kn,xn,!1,null,null,null),On=Pn.exports,jn={name:"VideoWidget",components:{"upload-video":Lt,"player-search":Jt,"creator-search":vn,"game-search":un,"character-search":an,"tournament-search":Vn,"tag-search":On},props:{videoId:{type:String,default:null}},data:function(){return{isVideoClipped:!1,currentStep:"Video",comboInputsRaw:"",showErrorMessage:!1,error:null,video:{id:"",contentType:"",contentCreatorId:"",type:"",origin:"",url:"",startTime:"",endTime:"",gameId:"",combos:[{id:"",characterId:"",damage:"",hits:"",inputs:"",startTime:"",endTime:"",note:"",isExpanded:!0}],match:{team1Players:[{id:null,characterIds:[],slot:null,characterCount:1}],team2Players:[{id:null,characterIds:[],slot:null,characterCount:1}]},montage:{type:null,players:[],characters:[]},tags:[]},importVideoUrl:null,origin:"web",isTournament:!1,contentTypes:["Match","Combo","Montage"],isLoading:!0}},computed:{timeStamp:function(){return ht()().format()},isValidated:function(){return!(!this.video.url||!this.video.gameId)&&("Match"===this.video.contentType&&this.video.match.team1Players.length>0&&this.video.match.team1Players.length>0||(!("Combo"!==this.video.contentType||!this.video.combos[0].id)||!("Montage"!==this.video.contentType||!this.video.montage.characters||!this.video.montage.players)))}},watch:{importVideoUrl:function(){this.importVideoUrl.includes("youtube")?(this.importVideoUrl.includes("ab_channel")?this.video.url=this.importVideoUrl.substring(this.importVideoUrl.indexOf("v=")+2,this.importVideoUrl.indexOf("&ab_channel")):this.video.url=this.importVideoUrl.substring(this.importVideoUrl.indexOf("v=")+2,this.importVideoUrl.length),this.video.type="youtube"):this.video.url=this.importVideoUrl},comboInputsRaw:function(){this.video.combo&&(this.video.combo.inputs=this.comboInputsRaw.split(">"))}},mounted:function(){this.videoId&&this.getVideo()},methods:{nextStep:function(){this.video.gameId&&this.video.url&&this.video.contentType?(this.showErrorMessage=!1,"Combo"===this.video.contentType?this.currentStep="Combo":"Match"===this.video.contentType?this.currentStep="Match":"Montage"===this.video.contentType&&(this.currentStep="Montage")):this.showErrorMessage=!0},setUploadedVideo:function(e){this.video.url=null,this.video.url=e,this.video.type="uploaded",this.postVideo()},setUpVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Combo"!==this.video.contentType){e.next=10;break}if(this.videoId){e.next=5;break}this.addCombos(),e.next=8;break;case 5:return e.next=7,Dt.patchCombo({id:this.video.combo.id,CharacterId:this.video.combo.characterId,Inputs:this.video.combo.inputs,Damage:this.video.combo.damage,Hits:this.video.combo.hits,Tags:this.video.combo.tags});case 7:this.patchVideo();case 8:e.next=21;break;case 10:if("Match"!==this.video.contentType){e.next=20;break}if(this.videoId){e.next=15;break}this.addMatch(),e.next=18;break;case 15:return e.next=17,Qt.patchMatch({id:this.video.match.id,Team1Players:this.video.match.team1Players.map((function(e){return{Id:e.id,Slot:1,CharacterIds:e.characterIds}})),Team2Players:this.video.match.team2Players.map((function(e){return{Id:e.id,Slot:2,CharacterIds:e.characterIds}})),VideoUrl:this.video.url,GameId:this.video.gameId});case 17:this.patchVideo();case 18:e.next=21;break;case 20:this.addMontage();case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addCombos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.video.combos,e.next=3,Dt.addBulkCombos(t.map((function(e){return{CharacterId:e.characterId,Inputs:e.inputs,Damage:e.damage,Hits:e.hits,StartTime:e.startTime,EndTime:e.endTime,Tags:e.tags}})));case 3:for(n=e.sent,a=0;a<this.video.combos.length;a++)i=this.video.combos[a],i.id=n.data.combos[a]._id;"uploaded"===this.video.type?this.$refs.videoUploader.upload():this.postVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addMatch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={Team1Players:this.video.match.team1Players.map((function(e){return{Id:e.id,Slot:1,CharacterIds:e.characterIds}})),Team2Players:this.video.match.team2Players.map((function(e){return{Id:e.id,Slot:2,CharacterIds:e.characterIds}})),VideoUrl:this.video.url,GameId:this.video.gameId},e.next=3,Qt.addMatch(t);case 3:"uploaded"===this.video.type?this.$refs.videoUploader.upload():this.postVideo();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addMontage:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={Players:this.video.montage.players.map((function(e){return e})),Characters:this.video.montage.characters.map((function(e){return{Id:e.id}})),Type:this.video.montage.type,VideoUrl:this.video.url,GameId:this.video.gameId},e.next=3,Wt.addMontage(t);case 3:n=e.sent,n.data.err?(this.error="Montage already exist",this.showErrorMessage=!0):"uploaded"===this.video.type?this.$refs.videoUploader.upload():this.postVideo();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isValidated){e.next=7;break}return e.next=3,At.addVideo({Url:this.video.url,ContentType:this.video.contentType,ContentCreatorId:this.video.contentCreatorId,VideoType:this.video.type,VideoUrl:this.video.url,StartTime:this.video.startTime,EndTime:this.video.endTime,GameId:this.video.gameId,Combos:this.video.combos.map((function(e){return{Id:e.id,StartTime:e.startTime,EndTime:e.endTime}})),Tags:this.video.tags});case 3:t=e.sent,t.data.err?(this.error="Video already exist",this.showErrorMessage=!0):(this.$emit("closeModal"),xo.$emit("newVideoPosted")),e.next=8;break;case 7:this.showErrorMessage=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setComboCharacter:function(e,t){t.characterId=e},setGame:function(e){this.video.gameId=e.id},setTournament:function(e){this.video.match.tournamentId=e._id},setCreator:function(e){this.video.contentCreatorId=e.id},getVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.getVideo(this.videoId);case 2:t=e.sent,n=t.data.video,this.video=n.map((function(e){return{id:e._id,contentType:e.ContentType,videoType:e.VideoType,inview:!1,isEditing:!1,isPlaying:!1,url:e.Url,combo:"Combo"===e.ContentType?a.getCombos(e.Combo):null,isFavorited:!1,gameId:e.GameId,contentCreatorId:e.ContentCreatorId,tags:e.Tags?e.Tags.map((function(e){return e._id})):null,game:{id:e.Game._id,Title:e.Game.Title,LogoUrl:e.Game.LogoUrl},match:"Match"===e.ContentType?{id:e.Match._id,team1Players:e.Match.Team1Players.map((function(t){return{id:t.Id,slot:t.Slot,name:e.Match.Team1Player.filter((function(e){return e._id===t.Id}))[0].Name,characterIds:a.hydrateCharacters(t.CharacterIds,e.Match.Team1PlayerCharacters),characterCount:t.CharacterIds.length}})),team2Players:e.Match.Team2Players.map((function(t){return{id:t.Id,slot:t.Slot,name:e.Match.Team2Player.filter((function(e){return e._id===t.Id}))[0].Name,characterIds:a.hydrateCharacters(t.CharacterIds,e.Match.Team2PlayerCharacters),characterCount:t.CharacterIds.length}}))}:null}}))[0],this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateCharacters:function(e,t){var n=[];return e.forEach((function(e){var a=t.filter((function(t){return t._id===e}));n.push(a[0]._id)})),n},getCombos:function(e){return{id:e._id,inputs:e.Inputs,hits:e.Hits,damage:e.Damage,startTime:e.StartTime,endTime:e.EndTime,tags:e.Tags,character:e.CharacterId?{name:e.Character.Name,imageUrl:e.Character.ImageUrl,id:e.Character._id}:null}},patchVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isValidated){e.next=8;break}return t={id:this.video.id,Tags:this.video.tags,GameId:this.video.gameid,Combos:"Combo"===this.video.ContentType?this.video.combos.map((function(e){return e.id})):null},e.next=4,At.patchVideo(t);case 4:this.$emit("closeModal"),xo.$emit("newVideoPosted"),e.next=9;break;case 8:this.showErrorMessage=!0;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addCombo:function(e){this.video.combos[e].inputs?(this.video.combos[e].isExpanded=!1,this.video.combos.push({id:"",characterId:"",damage:"",hits:"",inputs:"",startTime:"",endTime:"",isExpanded:!0,tags:[]})):this.showErrorMessage=!0},expandComboMenu:function(e){this.video.combos.forEach((function(e){return e.isExpanded=!1})),this.video.combos[e].isExpanded=!0},addToTeam1:function(){this.video.match.team1Players.push({id:null,characterIds:[],slot:null,characterCount:1})},addToTeam2:function(){this.video.match.team2Players.push({id:null,characterIds:[],slot:null,characterCount:1})},addCharacterToPlayer:function(e,t){t.characterIds.push(e)},addCharacterToMontage:function(e){this.video.montage.characters.push(e)},addCharacter:function(e){e.characterCount++},addPlayerToTeam1:function(e,t){this.video.match.team1Players[t].id=e.id},addPlayerToTeam2:function(e,t){this.video.match.team2Players[t].id=e.id},addPlayerToMontage:function(e){this.video.montage.players.push(e.id)},setTags:function(e,t){t?t.tags=e.map((function(e){return e.id})):this.video.tags=e.map((function(e){return e.id}))}}},Mn=jn,qn=(n("2c81"),n("ac7c")),Gn=n("67b6"),Nn=n("43a6"),Un=n("a844"),Rn=Object(g["a"])(Mn,jt,Mt,!1,null,null,null),Sn=Rn.exports;b()(Rn,{VBtn:qe["a"],VCheckbox:qn["a"],VRadio:Gn["a"],VRadioGroup:Nn["a"],VTextField:ft["a"],VTextarea:Un["a"]});var En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-tournament"},[n("h1",[e._v("Add Tournament")]),"tournament"===e.step?n("div",{staticClass:"form tournament-info"},[e.tournament.logoUrl?n("div",{staticClass:"tournament-img-container"},[n("img",{staticClass:"tournament-img",attrs:{src:e.tournament.logoUrl}}),n("v-btn",{on:{click:function(t){e.tournament.logoUrl=""}}},[e._v("X")])],1):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.logoUrl,expression:"tournament.logoUrl"}],attrs:{id:"import-image",type:"text",placeholder:"Image Url"},domProps:{value:e.tournament.logoUrl},on:{input:function(t){t.target.composing||e.$set(e.tournament,"logoUrl",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.name,expression:"tournament.name"}],attrs:{type:"text",name:"name",placeholder:"Tournament Name"},domProps:{value:e.tournament.name},on:{input:function(t){t.target.composing||e.$set(e.tournament,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.location,expression:"tournament.location"}],attrs:{type:"text",name:"location",placeholder:"Location"},domProps:{value:e.tournament.location},on:{input:function(t){t.target.composing||e.$set(e.tournament,"location",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tournament.date,expression:"tournament.date"}],attrs:{type:"text",name:"date",placeholder:"Date"},domProps:{value:e.tournament.date},on:{input:function(t){t.target.composing||e.$set(e.tournament,"date",t.target.value)}}}),n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.goToGameStep()}}},[e._v("Set Games")])],1):e._e(),"games"===e.step?n("div",{staticClass:"form"},[n("game-search",{staticClass:"games",attrs:{taggable:!0},on:{"update:game":function(t){return e.setGame(t)}},model:{value:e.games,callback:function(t){e.games=t},expression:"games"}}),n("ul",{staticClass:"list-of-games"},e._l(e.games,(function(t){return n("li",{key:t._id,staticClass:"tournament-games"},[e._v("\n                "+e._s(t.title)+"\n            ")])})),0),n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.addTournament()}}},[e._v("Add Tournament")])],1):e._e()])},Fn=[],Ln={components:{"game-search":un},name:"NewTournament",data:function(){return{step:"tournament",games:"",tournament:{name:"",location:"",games:[],date:"",series:"",logoUrl:"",players:[]}}},computed:{gameIds:function(){return this.games.map((function(e){return e.id}))}},methods:{addTournament:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bn.addTournament({Name:this.tournament.name,Location:this.tournament.location,GameIds:this.gameIds,Date:this.tournament.date,LogoUrl:this.tournament.logoUrl});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToGameStep:function(){this.step="games"},setGame:function(e){this.games=e}}},An=Ln,Dn=(n("8a1a"),Object(g["a"])(An,En,Fn,!1,null,null,null)),Qn=Dn.exports;b()(Dn,{VBtn:qe["a"]});var Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"characters"},[n("h1",[e._v("Add Character")]),n("div",{staticClass:"form"},[n("div",{staticClass:"character-container"},[e.imageUrl?n("div",{staticClass:"character-img-container"},[n("img",{staticClass:"character-img",attrs:{src:e.imageUrl}}),n("v-btn",{on:{click:function(t){e.imageUrl=""}}},[e._v("X")])],1):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.characterName,expression:"characterName"}],attrs:{type:"text",name:"name",placeholder:"Character Name"},domProps:{value:e.characterName},on:{input:function(t){t.target.composing||(e.characterName=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.imageUrl,expression:"imageUrl"}],attrs:{id:"import-image",type:"text",placeholder:"Character Image Url"},domProps:{value:e.imageUrl},on:{input:function(t){t.target.composing||(e.imageUrl=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.avatarUrl,expression:"avatarUrl"}],attrs:{id:"import-thumbnail",type:"text",placeholder:"Character Avatar Url"},domProps:{value:e.avatarUrl},on:{input:function(t){t.target.composing||(e.avatarUrl=t.target.value)}}}),n("game-search",{on:{"update:game":function(t){return e.setGame(t)}},model:{value:e.game.id,callback:function(t){e.$set(e.game,"id",t)},expression:"game.id"}})],1),n("div",[n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.addCharacter()}}},[e._v("Submit")])],1)])])},Bn=[],Hn={name:"NewCharacter",components:{"game-search":un},data:function(){return{characterName:"",game:{name:null,id:null,imageUrl:null},imageUrl:null,avatarUrl:null}},created:function(){this.getPlayer()},methods:{addCharacter:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.addCharacter({Name:this.characterName,GameId:this.game.id,ImageUrl:this.imageUrl,AvatarUrl:this.avatarUrl});case 2:xo.$emit("updateSearch"),this.$emit("closeModal");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setGame:function(e){this.game=e}}},zn=Hn,Xn=(n("2c14"),Object(g["a"])(zn,Wn,Bn,!1,null,null,null)),Yn=Xn.exports;b()(Xn,{VBtn:qe["a"]});var Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register-modal"},[n("div",{staticClass:"formcontainer"},[n("h2",[e._v("Register Account")]),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),n("v-text-field",{staticClass:"form-control",attrs:{id:"name",type:"text",placeholder:"Username",value:"",required:"",autofocus:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),n("v-text-field",{staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Email",value:"",required:"",autofocus:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("v-text-field",{staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",value:"",required:"",autofocus:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.submit()}}},[e._v("Submit")])],1)])},Kn=[],Zn=n("2591"),ea={fetchAccounts:function(){return m().get("accounts")},addAccount:function(e){return m().post("accounts",e)},updateAccount:function(e){return m().put("accounts/"+e.id,e)},getAccount:function(e){return m().get("accounts/"+e.id)},findAccount:function(e){return m().findOne("accounts/"+e)},deleteAccount:function(e){return m().delete("accounts/"+e)},patchAccount:function(e){return m().put("accounts/"+e.id,e)}},ta={data:function(){return{form:{name:"",email:"",password:""},error:null}},methods:{submit:function(){var e=this;Zn["a"].auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(t){t.user.updateProfile({displayName:e.form.name,email:e.form.email}).then((function(){var n={DisplayName:t.user.displayName,Email:t.user.email,IsEmailVerified:t.user.emailVerified,Uid:t.user.uid,AccountType:"Standard User"};e.addAccount(n),e.$emit("register:success"),e.$emit("closeModal")}))})).catch((function(t){e.error=t.message}))},addAccount:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ea.addAccount(t);case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},na=ta,aa=(n("7d7c"),Object(g["a"])(na,Jn,Kn,!1,null,null,null)),ia=aa.exports;b()(aa,{VBtn:qe["a"],VTextField:ft["a"]});var ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-modal"},[n("div",{staticClass:"formcontainer"},[n("h2",[e._v("Login")]),e.error?n("div",{staticClass:"error"},[e._v(e._s(e.error))]):e._e(),n("v-text-field",{staticClass:"form-control",attrs:{id:"email",type:"email",placeholder:"Email",value:"",required:"",autofocus:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("v-text-field",{staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Password",value:"",required:"",autofocus:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("v-btn",{staticClass:"submit-btn",attrs:{rounded:""},on:{click:function(t){return e.submit()}}},[e._v("Login")])],1)])},oa=[],sa={data:function(){return{user:null,form:{email:"",password:""},error:null}},methods:{submit:function(){var e=this;Zn["a"].auth().setPersistence(Zn["a"].auth.Auth.Persistence.LOCAL).then((function(){return Zn["a"].auth().signInWithEmailAndPassword(e.form.email,e.form.password).then((function(t){e.user={id:t.user.uid},e.getAccount(e.user.id)}))})).catch((function(){}))},getAccount:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ea.getAccount({id:t});case 2:n=e.sent,this.account={id:n.data.account[0]._id,displayName:n.data.account[0].DisplayName,email:n.data.account[0].Email,favoriteVideos:n.data.account[0].FavoriteVideos,collections:n.data.account[0].Collections},xo.$emit("account:login",this.account),this.$emit("closeModal");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},ca=sa,la=(n("9f16"),Object(g["a"])(ca,ra,oa,!1,null,null,null)),ua=la.exports;b()(la,{VBtn:qe["a"],VTextField:ft["a"]});var da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collection-search"},[n("h1",[e._v("Add video to collection")]),e.collections?n("multiselect",{attrs:{options:e.collections,"close-on-select":!0,"preserve-search":!0,taggable:e.taggable,multiple:e.multiple,"track-by":"id",placeholder:"Collections","tag-placeholder":"Add this as new tag",label:"name"},on:{tag:e.addCollection,remove:function(t){return e.remove()}},model:{value:e.selectedCollection,callback:function(t){e.selectedCollection=t},expression:"selectedCollection"}}):e._e()],1)},ha=[],ma={name:"CollectionSearch",props:{taggable:{type:Boolean,default:!0},account:{type:Object,default:null},multiple:{type:Boolean,default:!1},value:{type:Array,default:null}},data:function(){return{collections:[],selectedCollection:[],newCollectionId:null,skip:0}},watch:{selectedCollection:function(){this.$emit("update:collection",this.selectedCollection)}},created:function(){xo.$on("collection:update",this.getCollections)},beforeDestroy:function(){xo.$off("collection:update",this.getCollections)},mounted:function(){this.getCollections()},methods:{addCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.addCollection({Name:t,OwnerId:this.account.id});case 2:return n=e.sent,this.newCollectionId=n.data.collections._id,this.account.collections.push(this.newCollectionId),a={id:this.account.id,Collections:this.account.collections},e.next=8,ea.patchAccount(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos}})),this.value&&this.value.forEach((function(e){i.selectedCollection=i.collections.filter((function(t){return t.id===e}))}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},pa=ma,fa=(n("92b1"),Object(g["a"])(pa,da,ha,!1,null,null,null)),va=fa.exports,ga={name:"Modal",components:{"new-game":gt,"new-video":Sn,"new-creator":kt,"new-player":Ot,"new-tournament":Qn,"new-character":Yn,register:ia,login:ua,collections:va},props:{options:{type:Object,default:null},account:{type:Object,default:null}},data:function(){return{}},created:function(){},methods:{closeModal:function(){this.$emit("closeModal")}}},ya=ga,ba=(n("10a7"),Object(g["a"])(ya,st,ct,!1,null,null,null)),Ca=ba.exports;b()(ba,{VBtn:qe["a"],VIcon:C["a"]});var wa={name:"App",components:{"new-nav":ot,modal:Ca},data:function(){return{options:null,isWidgetOpen:!1,screenWidth:0,isMobile:!1,isSmallMobile:!1,account:null,isLoading:!0,showMobileMenu:!1,request:null,followedPlayers:[],followedGames:[],followedCharacters:[],collections:[]}},watch:{account:function(){xo.$emit("account:update",this.account)}},created:function(){this.account={id:null,role:"unregistered user"},this.getPersistantUser(),xo.$on("open:widget",this.openModal),xo.$on("account:login",this.setAccount),xo.$on("video:favorite",this.addFavoriteVideo),xo.$on("player:follow",this.followPlayer),xo.$on("player:unfollow",this.unfollowPlayer),xo.$on("game:follow",this.followgame),xo.$on("game:unfollow",this.unfollowgame),xo.$on("character:follow",this.followCharacter),xo.$on("character:unfollow",this.unfollowCharacter),xo.$on("game:follow",this.followGame),xo.$on("game:unfollow",this.unfollowGame),xo.$on("video:unfavorite",this.removeFavoriteVideo),xo.$on("account:logout",this.logout),window.addEventListener("resize",this.calculateScreenWidth)},beforeDestroy:function(){xo.$off("open:widget",this.openModal),xo.$off("account:login",this.setAccount),xo.$off("video:favorite",this.addFavoriteVideo),xo.$off("game:follow",this.followgame),xo.$off("game:unfollow",this.unfollowgame),xo.$off("player:follow",this.followPlayer),xo.$off("player:unfollow",this.unfollowPlayer),xo.$off("character:follow",this.followCharacter),xo.$off("character:unfollow",this.unfollowCharacter),xo.$off("video:unfavorite",this.removeFavoriteVideo),xo.$off("game:follow",this.followGame),xo.$off("game:unfollow",this.unfollowGame),xo.$off("account:logout",this.logout),window.removeEventListener("resize",this.calculateScreenWidth)},mounted:function(){this.calculateScreenWidth()},methods:{openModal:function(e){this.options=e,this.isWidgetOpen=!0},closeModal:function(){this.isWidgetOpen=!1},calculateScreenWidth:function(){this.screenWidth=this.$refs.mainPanel.clientWidth,this.screenWidth<900?(this.isSmallMobile=!0,this.isMobile=!0):this.screenWidth<900?(this.isMobile=!0,this.isSmallMobile=!1):(this.isMobile=!1,this.isSmallMobile=!1)},fetchAccount:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,!t){e.next=7;break}return e.next=4,ea.getAccount({id:t});case 4:n=e.sent,console.log(n.data),this.account={id:n.data.account[0]._id,uid:t,displayName:n.data.account[0].DisplayName,email:n.data.account[0].Email,favoriteVideos:n.data.account[0].FavoriteVideos?n.data.account[0].FavoriteVideos.map((function(e){return{contentType:e.ContentType,id:e.Id}})):[],followedPlayers:n.data.account[0].FollowedPlayersDetails.map((function(e){return{id:e._id,name:e.Name,imageUrl:e.PlayerImg,type:"player",addedDate:a.getAddedDate("player",e._id,n.data.account[0])}}))||[],followedCharacters:n.data.account[0].FollowedCharactersDetails.map((function(e){return{id:e._id,name:e.Name,imageUrl:e.AvatarUrl,type:"character",addedDate:a.getAddedDate("character",e._id,n.data.account[0])}}))||[],followedGames:n.data.account[0].FollowedGamesDetails.map((function(e){return{id:e._id,name:e.Title,imageUrl:e.LogoUrl,type:"game",addedDate:a.getAddedDate("game",e._id,n.data.account[0])}}))||[],collections:n.data.account[0].Collections.map((function(e){return{id:e._id,title:e.Name}}))||[],role:n.data.account[0].AccountType};case 7:xo.$emit("account:update",this.account),this.isLoading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAddedDate:function(e,t,n){switch(e){case"player":var a=n.FollowedPlayers.filter((function(e){return e.PlayerId===t}))[0].AddedDate;return a;case"game":a=n.FollowedGames.filter((function(e){return e.GameId===t}))[0].AddedDate;return a;case"character":a=n.FollowedCharacters.filter((function(e){return e.CharacterId===t}))[0].AddedDate;return a;default:return null}},getPersistantUser:function(){var e=this;Zn["a"].auth().onAuthStateChanged((function(t){t?e.fetchAccount(t.uid):e.isLoading=!1}))},logout:function(){var e=this;Zn["a"].auth().signOut().then((function(){e.account=null})).catch((function(){}))},getRequest:function(){this.request={id:this.account.id,FavoriteVideos:this.account.favoriteVideos,Collections:this.mapCollections(),FollowedPlayers:this.mapPlayers(),FollowedGames:this.mapGames(),FollowedCharacters:this.mapCharacters()}},addFavoriteVideo:function(e){var t=null;t="Combo"===e.contentType?e.combo.id:e.id;var n=this.createFavoriteVideoRequest(t,e);this.request.FavoriteVideos=n,this.patchAccount()},followPlayer:function(e){this.cloneFollowed();var t={id:e.id,addedDate:ht()().format()};0==this.followedPlayers.length?this.followedPlayers=[t]:this.followedPlayers.push(t),this.patchAccount()},followCharacter:function(e){this.cloneFollowed();var t={id:e.id,addedDate:ht()().format()};0==this.followedCharacters.length?this.followedCharacters=[t]:this.followedCharacters.push(t),this.patchAccount()},followGame:function(e){this.cloneFollowed();var t={id:e.id,addedDate:ht()().format()};0==this.followedGames.length?this.followedGames=[t]:this.followedGames.push(t),this.patchAccount()},createFavoriteVideoRequest:function(e,t){if(0==this.account.favoriteVideos.length)return[{ContentType:t.contentType,Id:e}];var n=this.account.favoriteVideos.map((function(e){return{ContentType:e.contentType,Id:e.id}}));return n.push({ContentType:t.contentType,Id:e}),n},removeFavoriteVideo:function(e){var t=null;t="Combo"===e.contentType?e.combo.id:e.id;for(var n=0;n<this.account.favoriteVideos.length;n++)this.account.favoriteVideos[n].Id===t&&this.account.favoriteVideos.splice(n,-1);this.patchAccount()},unfollowPlayer:function(e){this.cloneFollowed();for(var t=0;t<this.followedPlayers.length;t++)this.followedPlayers[t].id===e.id&&this.followedPlayers.splice(t,1);this.patchAccount()},unfollowCharacter:function(e){this.cloneFollowed();for(var t=0;t<this.followedCharacters.length;t++)this.followedCharacters[t].id===e.id&&this.followedCharacters.splice(t,1);this.patchAccount()},unfollowGame:function(e){this.cloneFollowed();for(var t=0;t<this.followedGames.length;t++)this.followedGames[t].id===e.id&&this.followedGames.splice(t,1);this.patchAccount()},mapPlayers:function(){return this.followedPlayers.map((function(e){return{PlayerId:e.id,AddedDate:e.addedDate}}))},mapCharacters:function(){return this.followedCharacters.map((function(e){return{CharacterId:e.id,AddedDate:e.addedDate}}))},mapGames:function(){return this.followedGames.map((function(e){return{GameId:e.id,AddedDate:e.addedDate}}))},mapCollections:function(){return this.collections.map((function(e){return e.id}))},patchAccount:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.getRequest(),e.next=3,ea.patchAccount(this.request);case 3:this.fetchAccount(this.account.uid);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cloneFollowed:function(){this.followedPlayers=this.account.followedPlayers,this.followedCharacters=this.account.followedCharacters,this.followedGames=this.account.followedGames,this.collections=this.account.collections}}},_a=wa,Va=(n("60bc"),n("b0a0"),Object(g["a"])(_a,i,r,!1,null,null,null)),ka=Va.exports;b()(Va,{VIcon:C["a"],VImg:Ke["a"],VListItemAvatar:nt["a"]});var xa=n("8c4f"),Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"videos-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{isFirst:t.isFirst,matchId:t.matchId,favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e(),"Combo"===t.contentType?n("combo-video-card",{attrs:{isFirst:t.isFirst,comboId:t.comboId,favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},Ta=[],$a=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoList",staticClass:"video-card"},[e.isLoading?n("div"):n("div",{staticClass:"match-card card "},[n("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint,options:e.intersectionOptions},expression:"{\n                active: true,\n                callback: onWaypoint,\n                options: intersectionOptions\n            }"}],staticClass:"video-container",attrs:{id:e.matchId}},["youtube"===e.video.videoType?n("youtube-media",{ref:"youtubeRef",attrs:{"video-id":e.video.url,"player-width":556,"player-height":313,"player-vars":{rel:0,start:e.video.startTime,end:e.video.endTime},mute:!0,playsinline:1},on:{ready:e.ready}}):e._e()],1),n("div",{staticClass:"card-label"},[e._v("Match")]),e._l(e.video.match.team1Players[0].characters,(function(e,t){return n("div",{key:e.id},[n("div",{class:["character-bubble","character-"+(t+1),e.name.toLowerCase()],style:{backgroundImage:"url('"+e.imageUrl+"')"}})])})),e._l(e.video.match.team2Players[0].characters,(function(e,t){return n("div",{key:e.id},[n("div",{class:["character-bubble","player2","character-"+t,e.name.toLowerCase()],style:{backgroundImage:"url('"+e.imageUrl+"')"}})])})),e.video.isEditing?e._e():n("div",{staticClass:"characters"},[n("div",{staticClass:"player1"},[n("div",{staticClass:"heavy-weight player-name",on:{click:function(t){return e.queryPlayer(e.video.match.team1Players[0].id)}}},[n("p",[e._v(e._s(e.video.match.team1Players[0].name))])]),e._l(e.video.match.team1Players[0].characters,(function(t,a){return n("div",{key:a},[n("div",{staticClass:"character-name",on:{click:function(n){return e.queryCharacter(t.id)}}},[n("p",[n("span",[e._v(e._s(t.name))])])])])}))],2),n("div",{staticClass:"versus heavy-weight"},[e._v("vs")]),n("div",{staticClass:"player2"},[n("div",{staticClass:"heavy-weight player-name",on:{click:function(t){return e.queryPlayer(e.video.match.team2Players[0].id)}}},[n("p",[e._v(e._s(e.video.match.team2Players[0].name))])]),e._l(e.video.match.team2Players[0].characters,(function(t,a){return n("div",{key:a},[n("div",{staticClass:"character-name",on:{click:function(n){return e.queryCharacter(t.id)}}},[n("p",[n("span",[e._v(e._s(t.name))])])])])}))],2)])],2),n("div",{staticClass:"admin-controls"},[e.showCollections?n("collection-search",{attrs:{account:e.account,multiple:""},on:{"update:collection":function(t){return e.updateCollections(t,e.video)}},model:{value:e.video.collections,callback:function(t){e.$set(e.video,"collections",t)},expression:"video.collections"}}):e._e(),e.account?n("v-btn",{staticClass:"favorite-button",on:{click:function(t){e.showCollections=!e.showCollections}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-plus\n            ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.editVideo()}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                mdi-wrench\n            ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.deleteVideo(e.video.combo)}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                mdi-delete\n            ")])],1):e._e(),e.video.isFavorited?n("v-btn",{staticClass:"unfavorite-button",on:{click:function(t){return e.unfavoriteVideo()}}},[n("v-icon",[e._v("\n                mdi-heart\n            ")])],1):n("v-btn",{staticClass:"favorite-button",on:{click:function(t){return e.favoriteVideo()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-heart-outline\n            ")])],1),n("v-btn",{staticClass:"share-button",on:{click:function(t){return e.copyLink()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-link\n            ")])],1)],1)])}),Pa=[],Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collection-search"},[e.collections?n("multiselect",{attrs:{options:e.collections,"close-on-select":!0,"preserve-search":!0,taggable:e.taggable,multiple:e.multiple,"track-by":"id",placeholder:"Select or Add Collections","tag-placeholder":"Add this as new tag",label:"name"},on:{tag:e.addCollection,remove:function(t){return e.remove()}},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.values,i=(t.search,t.isOpen);return[a.length&&!i?n("span",{staticClass:"multiselect__single"},[e._v(e._s(a.length)+" options selected")]):e._e()]}}],null,!1,249740006),model:{value:e.selectedCollection,callback:function(t){e.selectedCollection=t},expression:"selectedCollection"}}):e._e()],1)},ja=[],Ma={name:"CollectionSearch",props:{taggable:{type:Boolean,default:!0},account:{type:Object,default:null},multiple:{type:Boolean,default:!1},value:{type:Array,default:null}},data:function(){return{collections:[],selectedCollection:[],newCollectionId:null,skip:0}},watch:{selectedCollection:function(){this.$emit("update:collection",this.selectedCollection)}},created:function(){xo.$on("collection:update",this.getCollections)},beforeDestroy:function(){xo.$off("collection:update",this.getCollections)},mounted:function(){this.getCollections()},methods:{addCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.addCollection({Name:t,OwnerId:this.account.id});case 2:return n=e.sent,this.newCollectionId=n.data.collections._id,this.account.collections.push(this.newCollectionId),a={id:this.account.id,Collections:this.account.collections},e.next=8,ea.patchAccount(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos}})),this.value&&this.value.forEach((function(e){i.selectedCollection=i.collections.filter((function(t){return t.id===e}))}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},qa=Ma,Ga=(n("dd5a"),Object(g["a"])(qa,Oa,ja,!1,null,null,null)),Na=Ga.exports,Ua={name:"VideoCard",components:{"collection-search":Na},props:{matchId:{type:String,default:null},value:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},favoriteVideos:{type:Array,default:null},account:{type:Object,default:null}},data:function(){return{videoCurrentTime:0,isLoading:!0,video:{videoType:null,isPlaying:!1,url:null,isFavorited:!1},intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1},player:null,collections:null,showCollections:!1}},computed:{formattedInputs:function(){return this.video.combo.inputs.join(" > ")},isAdmin:function(){return"Admin User"===this.account.role}},watch:{"video.isPlaying":function(){"uploaded"===this.video.videoType?!0===this.video.isPlaying?this.$refs.videoRef.play():this.$refs.videoRef.pause():"youtube"===this.video.videoType&&this.player&&(!0===this.video.isPlaying?this.player.playVideo():this.player.pauseVideo()),!0===this.value&&this.video.combo.startTime&&this.setTimer()},videoCurrentTime:function(){this.videoCurrentTime>parseInt(this.video.combo.endTime)&&this.$refs.youtubeRef.player.seekTo(this.video.combo.startTime)}},created:function(){this.getCollections(),this.getMatch(),this.playVideo()},methods:{getMatch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt.getMatch(this.matchId);case 2:t=e.sent,n=t.data.matches[0],this.video.match={team1Players:n.Team1Players.map((function(e){return{id:e.Id,slot:e.Slot,name:n.Team1Player.filter((function(t){return t._id===e.Id}))[0].Name,characters:a.hydrateCharacters(e.CharacterIds,n.Team1PlayerCharacters)}})),team2Players:n.Team2Players.map((function(e){return{id:e.Id,slot:e.Slot,name:n.Team2Player.filter((function(t){return t._id===e.Id}))[0].Name,characters:a.hydrateCharacters(e.CharacterIds,n.Team2PlayerCharacters)}})),collections:this.assignCollection(this.matchId)},this.video.url=n.VideoUrl,this.getVideo();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateCharacters:function(e,t){var n=[];return e.forEach((function(e){var a=t.filter((function(t){return t._id===e}));n.push({name:a[0].Name?a[0].Name:null,id:a[0]._id,imageUrl:a[0].AvatarUrl})})),n},getVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.getMatchVideo(this.video.url);case 2:t=e.sent,n=t.data.videos[0],this.video.videoType=n.VideoType,this.video.game={title:n.Game.Title,logoUrl:n.Game.LogoUrl,id:n.Game._id},this.video.isPlaying=!1,this.video.id=n._id,this.isLoading=!1,this.video.match.id=this.matchId,this.video.contentType="Match",this.video.isFavorited=this.favoriteVideos?this.favoriteVideos.some((function(e){return e.id===a.video.id})):null;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playVideo:function(){"uploaded"===this.video.videoType?this.video.isPlaying&&this.$refs.videoRef.play():"youtube"===this.video.videoType&&this.video.isPlaying},ready:function(e){this.player=e.target,(this.video.isPlaying||this.isFirst)&&(this.player.playVideo(),this.video.isPlaying&&this.video.startTime&&this.setTimer())},deleteVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.deleteVideo(this.video.id);case 2:return e.next=4,Qt.deleteMatch(this.video.match.id);case 4:t=e.sent,this.$emit("video:delete",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryPlayer:function(e){this.$router.push("/player/".concat(e))},queryCharacter:function(e){this.$router.push("/character/".concat(e))},setTimer:function(){this.$nextTick((function(){var e=this;window.setInterval((function(){e.getTimeStamp()}),1e3)}))},getTimeStamp:function(){this.videoCurrentTime=this.$refs.youtubeRef.player.getCurrentTime()},editVideo:function(){this.video.isEditing=!0,xo.$emit("open:widget",{name:"video",videoId:this.video.id})},copyLink:function(){this.$copyText("https://fighters-edge.com/match/".concat(this.video.id)).then((function(){alert("match copied")}))},favoriteVideo:function(){xo.$emit("video:favorite",this.video),this.video.isFavorited=!0},unfavoriteVideo:function(){xo.$emit("video:unfavorite",this.video),this.video.isFavorited=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id;i&&(n===this.$waypointMap.GOING_IN&&a&&(this.video.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(this.video.isPlaying=!1))},updateCollections:function(e){var t=this,n=e.map((function(e){return e.id})),a={id:this.matchId,contentType:"Match"};this.collections.forEach((function(e){var i=e.videos.some((function(e){return e.id===t.matchId})),r=n.some((function(t){return t===e.id}));r&&!i?(e.videos.push(a),t.patchCollection(e)):!r&&i&&(e.videos=e.videos.splice(e.videos.indexOf(a),1),t.patchCollection(e))}))},patchCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.id,Videos:t.videos,Name:t.name},e.next=3,x.updateCollection(n);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos.map((function(e){return{id:e.Id,contentType:e.ContentType}}))}}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),assignCollection:function(){var e=this;if(this.collections){var t=[];return this.collections.forEach((function(n){var a=n.videos.some((function(t){return t.id===e.matchId}));a&&t.push(n.id)})),t}return[]}}},Ra=Ua,Sa=(n("527c"),Object(g["a"])(Ra,$a,Pa,!1,null,null,null)),Ea=Sa.exports;b()(Sa,{VBtn:qe["a"],VIcon:C["a"]});var Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoList"},[e.isLoading?n("div"):n("div",{staticClass:"combo-card card video-card"},[n("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onComboWaypoint,options:e.intersectionOptions},expression:"{\n                active: true,\n                callback: onComboWaypoint,\n                options: intersectionOptions\n            }"}],staticClass:"video-container",attrs:{id:e.comboId}},["youtube"===e.video.videoType?n("youtube-media",{ref:"youtubeRef",attrs:{"video-id":e.video.url,"player-width":556,"player-height":313,"player-vars":{rel:0,start:e.video.combo.startTime,end:e.video.combo.endTime},mute:!0,playsinline:1},on:{ready:e.ready}}):n("video",{ref:"videoRef",attrs:{loop:"",controls:"",muted:""},domProps:{muted:!0}},[n("source",{attrs:{src:e.video.url,type:"video/mp4"}})])],1),n("div",{staticClass:"card-label"},[e._v("Combo")]),n("div",{staticClass:"character-bubble",style:{backgroundImage:"url('"+e.video.combo.character.imageUrl+"')"}}),n("div",{staticClass:"heavy-weight character-name"},[n("p",{on:{click:function(t){return e.queryCharacter(e.video.combo.character.id)}}},[e._v("\n                "+e._s(e.video.combo.character.name)+"\n            ")])]),n("div",{staticClass:"combo-stats"},[e.video.combo.hits?n("p",[e._v(e._s(e.video.combo.hits)+" Hits")]):e._e(),e.video.combo.damage?n("p",[e._v(e._s(e.video.combo.damage)+" Damage")]):e._e()]),n("div",{staticClass:"combo-input"},[n("p",{staticClass:"inputs"},[e._v(e._s(e.video.combo.inputs.join(" > ")))])]),e.video.combo.tags?n("div",{staticClass:"combo-tags"},e._l(e.video.combo.tags,(function(t){return n("p",{key:t.id,staticClass:"tag"},[e._v("#"+e._s(t.name))])})),0):e._e(),n("div",{staticClass:"admin-controls"},[e.showCollections?n("collection-search",{attrs:{account:e.account,multiple:""},on:{"update:collection":function(t){return e.updateCollections(t,e.video)}},model:{value:e.video.collections,callback:function(t){e.$set(e.video,"collections",t)},expression:"video.collections"}}):e._e(),e.account?n("v-btn",{staticClass:"favorite-button",on:{click:function(t){e.showCollections=!e.showCollections}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                    mdi-plus\n                ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.editVideo()}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                    mdi-wrench\n                ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.deleteVideo(e.video.combo)}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                    mdi-delete\n                ")])],1):e._e(),e.video.isFavorited?n("v-btn",{staticClass:"unfavorite-button",on:{click:function(t){return e.unfavoriteVideo()}}},[n("v-icon",[e._v("\n                    mdi-heart\n                ")])],1):n("v-btn",{staticClass:"favorite-button",on:{click:function(t){return e.favoriteVideo()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                    mdi-heart-outline\n                ")])],1),n("v-btn",{staticClass:"share-button",on:{click:function(t){return e.copyLink()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                    mdi-link\n                ")])],1)],1)])])},La=[],Aa={name:"NewVideoCard",components:{"collection-search":Na},props:{comboId:{type:String,default:null},value:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},favoriteVideos:{type:Array,default:null},account:{type:Object,default:null}},data:function(){return{videoCurrentTime:0,isLoading:!0,video:{videoType:null,isPlaying:!1,isFavorited:!1},intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1},player:null,collections:null,showCollections:!1}},computed:{isAdmin:function(){return"Admin User"===this.account.role}},watch:{"video.isPlaying":function(){"uploaded"===this.video.videoType?!0===this.video.isPlaying?this.$refs.videoRef.play():this.$refs.videoRef.pause():"youtube"===this.video.videoType&&this.player&&(!0===this.video.isPlaying?this.player.playVideo():this.player.pauseVideo()),this.video.isPlaying&&this.video.combo.startTime&&this.setTimer()},videoCurrentTime:function(){this.videoCurrentTime>parseInt(this.video.combo.endTime)&&this.$refs.youtubeRef.player.seekTo(this.video.combo.startTime)}},created:function(){this.getCollections(),this.getCombo(),this.playVideo()},methods:{getCombo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Dt.getCombo(this.comboId);case 2:t=e.sent,n=t.data.combos[0],this.video.combo={character:{id:n.Character._id,name:n.Character.Name,imageUrl:n.Character.AvatarUrl},damage:n.Damage,hits:n.Hits,tags:n.Tags.length>0?n.Tags.map((function(e){return{name:e.TagName,id:e._id}})):null,inputs:n.Inputs,startTime:null,endtime:null},this.getVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.getComboVideo(this.comboId);case 2:t=e.sent,n=t.data.videos[0],this.video.id=n._id,this.video.url=n.Url,this.video.videoType=n.VideoType,this.video.game={title:n.Game.Title,logoUrl:n.Game.LogoUrl,id:n.Game._id},this.video.combo.startTime=parseInt(n.Combos.StartTime),this.video.combo.endTime=parseInt(n.Combos.Endtime),this.video.combo.id=this.comboId,this.video.isPlaying=!1,this.video.contentType="Combo",this.video.isFavorited=this.favoriteVideos?this.favoriteVideos.some((function(e){return e.id===a.comboId})):null,this.video.collections=this.assignCollection(this.comboId),this.isLoading=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playVideo:function(){"uploaded"===this.video.videoType?this.video.isPlaying&&this.$refs.videoRef.play():"youtube"===this.video.videoType&&this.video.isPlaying},ready:function(e){this.player=e.target,(this.video.isPlaying||this.isFirst)&&(this.player.playVideo(),this.video.isPlaying&&this.video.combo.startTime&&this.setTimer())},deleteVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r,o,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.getVideo(this.video.id);case 2:if(t=e.sent,n=t.data.video.length,!(n<1)){e.next=9;break}return e.next=7,At.deleteVideo(this.video.id);case 7:e.next=15;break;case 9:return a=t.data.video,i=a.filter((function(e){return e.Combo._id!=s.comboId})),i=i.map((function(e){return{Id:e.ComboId,StartTime:e.Combo.StartTime,EndTime:e.Combo.EndTime}})),r={id:this.video.id,Combos:i,GameId:this.video.game.id},e.next=15,At.patchVideo(r);case 15:return e.next=17,Dt.deleteCombo(this.comboId);case 17:o=e.sent,this.$emit("video:delete",o);case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryCharacter:function(e){this.$router.push("/character/".concat(e))},setTimer:function(){this.$nextTick((function(){var e=this,t=window.setInterval((function(){e.getTimeStamp()}),1e3);this.video.isPlaying||clearInterval(t)}))},getTimeStamp:function(){this.player&&(this.videoCurrentTime=this.player.getCurrentTime())},editVideo:function(){this.video.isEditing=!0,xo.$emit("open:widget",{name:"video",videoId:this.video.id})},copyLink:function(){this.$copyText("https://fighters-edge.com/combo/".concat(this.comboId)).then((function(){alert("combo copied")}))},favoriteVideo:function(){xo.$emit("video:favorite",this.video),this.video.isFavorited=!0},unfavoriteVideo:function(){xo.$emit("video:unfavorite",this.video),this.video.isFavorited=!1},onComboWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id;i&&(n===this.$waypointMap.GOING_IN&&a&&(this.video.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(this.video.isPlaying=!1))},updateCollections:function(e){var t=this,n=e.map((function(e){return e.id})),a={id:this.comboId,contentType:"Combo"};this.collections.forEach((function(e){var i=e.videos.some((function(e){return e.id===t.comboId})),r=n.some((function(t){return t===e.id}));r&&!i?(e.videos.push(a),t.patchCollection(e)):!r&&i&&(e.videos=e.videos.splice(e.videos.indexOf(a),1),t.patchCollection(e))}))},patchCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.id,Videos:t.videos,Name:t.name},e.next=3,x.updateCollection(n);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos.map((function(e){return{id:e.Id,contentType:e.ContentType}}))}}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),assignCollection:function(){var e=this;if(this.collections){var t=[];return this.collections.forEach((function(n){var a=n.videos.some((function(t){return t.id===e.comboId}));a&&t.push(n.id)})),t}},openCollections:function(e){xo.$emit("open:widget",{name:"collections",video:e})}}},Da=Aa,Qa=(n("a0f5"),Object(g["a"])(Da,Fa,La,!1,null,null,null)),Wa=Qa.exports;b()(Qa,{VBtn:qe["a"],VIcon:C["a"]});var Ba={name:"Videos",components:{"match-video-card":Ea,"combo-video-card":Wa},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],error:null,results:null}},computed:{skip:function(){return this.videos.length}},created:function(){this.fetch()},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos),xo.$on("account:update",this.accountUpdate)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos)},methods:{accountUpdate:function(){this.queryVideos()},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={skip:this.skip},e.next=3,At.queryVideos(t);case 3:n=e.sent,this.hydrateVideos(n),this.videos.length<6&&this.playFirstVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isFirst:!1})})),this.videos.length>0&&(this.videos[0].isFirst=!0)},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){"Combo"===t.contentType?e.videos.filter((function(e){return e.combo.id===t.id}))[0].isFavorited=!0:e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))},fetch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="https://www.googleapis.com/youtube/v3/search?key=936424237721-3988kr9bnjlqbmrsfu45nnm4ueba6pqc.apps.googleusercontent.com\n&channelId=UCVsmYrE8-v3VS7XWg3cXp9g&part=snippet,id&order=date&maxResults=20",e.next=4,this.axios.get(t);case 4:n=e.sent,a=n.data.results,this.results=a,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.error=e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()}},Ha=Ba,za=(n("5747"),Object(g["a"])(Ha,Ia,Ta,!1,null,null,null)),Xa=za.exports,Ya=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"player-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected},attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account}},["Match"===t.contentType?n("match-video-card",{attrs:{matchId:t.matchId,favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):n("div",{staticClass:"no-videos"},[n("h2",[e._v("Unable to find any videos")])])])},Ja=[],Ka={name:"Videos",components:{"match-video-card":Ea},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:null,sort:null}},computed:{skip:function(){return this.videos.length},playerId:function(){return this.$route.params.id}},watch:{playerId:function(){this.isLoading=!0,this.videos=[],this.queryVideos(),this.isLoading=!1}},mounted:function(){this.account&&this.updateFavorites(),this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos),xo.$on("account:update",this.updateFavorites),xo.$on("player-filter",this.refreshQuery)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos),xo.$off("account:update",this.updateFavorites),xo.$off("player-filter",this.refreshQuery)},methods:{applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},refreshQuery:function(e){this.videos=[],this.queryVideos(e)},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={skip:this.skip,sortOption:this.sort,searchQuery:[{queryName:"PlayerId",queryValue:this.playerId}]},t&&n.searchQuery.push(t),e.next=4,At.queryVideos(n);case 4:a=e.sent,this.hydrateVideos(a),this.videos.length<6&&this.playFirstVideo();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},updateFavorites:function(){this.favorites=this.account.favoriteVideos.map((function(e){return{contentType:e.contentType,id:e.id}}))},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))}}},Za=Ka,ei=(n("2380"),Object(g["a"])(Za,Ya,Ja,!1,null,null,null)),ti=ei.exports,ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"characters-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,isFirst:t.isFirst,matchId:t.matchId,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e(),"Combo"===t.contentType?n("combo-video-card",{attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,isFirst:t.isFirst,comboId:t.comboId,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},ai=[],ii={name:"Character",components:{"match-video-card":Ea,"combo-video-card":Wa},props:{account:{type:Object,default:null}},data:function(){return{videos:[],isLoading:!0,query:null,savedQuery:null,favorites:[],filter:null,sort:null,tagFilter:null}},computed:{skip:function(){return this.videos.length},characterId:function(){return this.$route.params.id}},watch:{characterId:function(){this.isLoading=!0,this.videos=[],this.queryVideos(),this.isLoading=!1}},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("character-query",this.refreshQuery),xo.$on("character-filter",this.filterQuery),xo.$on("search",this.queryVideos),xo.$on("filter-tag:update",this.filterbyTag),xo.$on("matchup-filter",this.initiateQueryMatchup)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("character-query",this.refreshQuery),xo.$off("character-filter",this.filterQuery),xo.$off("search",this.queryVideos),xo.$off("filter-tag:update",this.filterbyTag),xo.$off("matchup-filter",this.initiateQueryMatchup)},methods:{applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},filterbyTag:function(e){this.videos=[],this.tagFilter=e,this.queryVideos()},refreshQuery:function(e){this.videos=[],this.queryVideos(e)},filterQuery:function(e){this.videos=[],this.filter=e,this.queryVideos()},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={skip:this.skip,sortOption:this.sort,searchQuery:[{queryName:"CharacterId",queryValue:this.characterId}],filter:this.filter},t&&n.searchQuery.push(t),e.next=4,At.queryVideos(n);case 4:a=e.sent,this.hydrateVideos(a),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isFirst:!1})})),this.videos.length>0&&(this.videos[0].isFirst=!0)},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},initiateQueryMatchup:function(e){this.videos=[],this.queryMatchup(e)},queryMatchup:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={skip:this.skip,searchQuery:t},e.next=3,At.queryMatchup(n);case 3:a=e.sent,this.hydrateVideos(a),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},ri=ii,oi=(n("98a4"),Object(g["a"])(ri,ni,ai,!1,null,null,null)),si=oi.exports,ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"characters-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Combo"===t.contentType?n("combo-video-card",{attrs:{comboId:t.comboId,account:e.account,favoriteVideos:e.account?e.account.favoriteVideos:null},on:{"video:delete":function(t){return e.refreshDelete()}},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},li=[],ui={name:"Videos",components:{"combo-video-card":Wa},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:null,sort:null}},computed:{skip:function(){return this.videos.length}},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos)},methods:{refreshDelete:function(){this.videos=[],this.queryVideos(),alert("combo deleted")},applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},applyFilter:function(e){this.videos=[],this.filter=e,this.queryVideos()},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={skip:this.skip,sortOption:this.sort,filter:this.filter,searchQuery:[{queryName:"ContentType",queryValue:"Combo"}]},e.next=3,At.queryVideos(t);case 3:n=e.sent,this.hydrateVideos(n),this.videos.length<6&&this.playFirstVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},di=ui,hi=(n("3178"),Object(g["a"])(di,ci,li,!1,null,null,null)),mi=hi.exports,pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"combos-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},[n("combo-video-card",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onComboWaypoint,options:e.intersectionOptions},expression:"{\n                    active: true,\n                    callback: onComboWaypoint,\n                    options: intersectionOptions\n                }"}],attrs:{id:t.id,video:t,account:e.account},on:{"video:delete":function(t){return e.queryVideos()}},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}})],1)})),0):e._e()])},fi=[],vi={name:"Combo",components:{"combo-video-card":Wa},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1}}},computed:{skip:function(){return this.videos.length},comboId:function(){return this.$route.params.id}},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo)},methods:{queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],a=t||this.savedQuery,this.savedQuery!==a&&(this.videos=[],this.savedQuery=t),a&&("Game"===a.queryName&&(n=[{queryName:"GameId",queryValue:a.queryValue}]),"Player"===a.queryName&&(n=[{queryName:"Player1Id",queryValue:a.queryValue},{queryName:"Player2Id",queryValue:a.queryValue}]),"Character"===a.queryName&&(n=[{queryName:"Player1CharacterId",queryValue:a.queryValue},{queryName:"Player2CharacterId",queryValue:a.queryValue},{queryName:"Combo.CharacterId",queryValue:a.queryValue}])),n.push({queryName:"ComboId",queryValue:this.comboId}),i={skip:this.skip,searchQuery:n},e.next=8,At.queryVideos(i);case 8:r=e.sent,this.hydrateVideos(r),this.videos.length<6&&this.playFirstVideo();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),playFirstVideo:function(){for(var e=this.videos.length<4?this.videos.length-1:3,t=0;t<=e;t++)this.videos[t].inview=!0;this.videos[0].isPlaying=!0,this.isLoading=!1},hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({id:e._id,contentType:e.ContentType,contentCreatorId:e.ContentCreatorId,videoType:e.VideoType,url:e.Url,startTime:e.StartTime,endTime:e.EndTime,gameId:e.GameId,combo:t.getCombos(e.Combo),inview:!1,isPlaying:!1,isEditing:!1})}))},getCombos:function(e){return{id:e._id,inputs:e.Inputs,hits:e.Hits,damage:e.Damage,startTime:e.StartTime,endTime:e.EndTime,character:e.CharacterId?{name:e.Character.Name,imageUrl:e.Character.ImageUrl,id:e.Character._id}:null}},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.id==i}));n===this.$waypointMap.GOING_IN&&a&&(r.inview=!0,r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},onComboWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.combo.id===i}));n===this.$waypointMap.GOING_IN&&a&&(r.inview=!0,r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},spliceVideo:function(e){this.videos.splice(this.videos.indexOf(e),1)},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},gi=vi,yi=(n("39a1"),Object(g["a"])(gi,pi,fi,!1,null,null,null)),bi=yi.exports,Ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"match-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,isFirst:t.isFirst,matchId:t.matchId,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},wi=[],_i={name:"Match",components:{"match-video-card":Ea},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1}}},computed:{skip:function(){return this.videos.length},videoId:function(){return this.$route.params.id}},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo)},methods:{queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={skip:this.skip,sortOption:this.sort,filter:this.filter,tagFilter:this.tagFilter,searchQuery:[{queryName:"Id",queryValue:this.videoId}]},e.next=3,At.queryVideos(t);case 3:n=e.sent,this.hydrateVideos(n),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isFirst:!1})})),this.videos.length>0&&(this.videos[0].isFirst=!0)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},Vi=_i,ki=(n("4a96"),Object(g["a"])(Vi,Ci,wi,!1,null,null,null)),xi=ki.exports,Ii=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"matches-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{matchId:t.matchId,account:e.account},on:{"video:delete":function(t){return e.refreshDelete()}},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},Ti=[],$i={name:"Videos",components:{"match-video-card":Ea},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:"Match",sort:null}},computed:{skip:function(){return this.videos.length},playerId:function(){return this.$route.params.id}},watch:{playerId:function(){this.isLoading=!0,this.videos=[],this.queryVideos(),this.isLoading=!1}},mounted:function(){this.account&&this.updateFavorites(),this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("filter",this.applyFilter),xo.$on("search",this.newQuery),xo.$on("account:update",this.updateFavorites)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("filter",this.applyFilter),xo.$on("search",this.newQuery),xo.$off("account:update",this.updateFavorites)},methods:{newQuery:function(e){this.videos=[],this.queryVideos(e)},refreshDelete:function(){this.videos=[],this.queryVideos(),alert("combo deleted")},applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},applyFilter:function(e){this.videos=[],this.queryVideos(e)},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={skip:this.skip,sortOption:this.sort,filter:this.filter,searchQuery:[]},t&&n.searchQuery.push(t),e.next=4,At.queryVideos(n);case 4:a=e.sent,this.hydrateVideos(a),this.videos.length<6&&this.playFirstVideo();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},updateFavorites:function(){this.favorites=this.account.favoriteVideos.map((function(e){return{contentType:e.contentType,id:e.id}}))},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))}}},Pi=$i,Oi=(n("d5b8"),Object(g["a"])(Pi,Ii,Ti,!1,null,null,null)),ji=Oi.exports,Mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"games-view"},e._l(e.games,(function(e){return n("div",{key:e.id},[n("game-bubble",{attrs:{gameId:e.id}})],1)})),0)},qi=[],Gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.game?n("div",{staticClass:"game-bubble",style:e.trendingStyle,on:{click:function(t){return e.navigateToGame()}}}):e._e()},Ni=[],Ui={name:"GameBubble",components:{},props:{gameId:{type:String,default:null}},data:function(){return{game:null}},computed:{trendingStyle:function(){return{"background-image":"url(".concat(this.game.logoUrl,")"),"background-size":"contain","background-repeat":"no-repeat","background-position":"50%"}}},mounted:function(){this.getGame()},methods:{getGame:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.getGame({id:this.gameId});case 2:t=e.sent,this.game={title:t.data.Title,logoUrl:t.data.LogoUrl};case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),navigateToGame:function(){this.$router.push("/game/".concat(this.gameId))}}},Ri=Ui,Si=(n("e022"),Object(g["a"])(Ri,Gi,Ni,!1,null,null,null)),Ei=Si.exports,Fi={name:"Games",components:{"game-bubble":Ei},data:function(){return{games:[]}},computed:{},watch:{},mounted:function(){this.queryGames()},beforeDestroy:function(){},methods:{queryGames:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.fetchGames();case 2:t=e.sent,this.games=t.data.games.map((function(e){return{id:e._id,title:e.Title,logoUrl:e.LogoUrl}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Li=Fi,Ai=(n("a814"),Object(g["a"])(Li,Mi,qi,!1,null,null,null)),Di=Ai.exports,Qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"characters-view"},[e.isLoading?e._e():n("game-nav",{attrs:{gameId:e.gameId},on:{"game-filter:update":function(t){return e.applyFilter(t)}}}),e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account,matchId:t.matchId},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e(),"Combo"===t.contentType?n("combo-video-card",{attrs:{favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account,comboId:t.comboId},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()],1)},Wi=[],Bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-nav"},[e.game?n("div",{staticClass:"game-bubble",style:e.trendingStyle},[n("div",{staticClass:"options"},[n("div",{staticClass:"sort-filter-container"},[n("span",[e._v("Show:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilter,expression:"selectedFilter"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedFilter=t.target.multiple?n:n[0]}}},e._l(e.filterOptions,(function(t){return n("option",{key:t},[e._v("\n                        "+e._s(t)+"\n                    ")])})),0)])])]):e._e()])},Hi=[],zi={name:"GameNav",props:{gameId:{type:String,default:""}},data:function(){return{filterOptions:["All Videos","Combo","Match"],selectedFilter:"All Videos",game:null}},computed:{trendingStyle:function(){return{"background-image":"url(".concat(this.game.logoUrl,")"),"background-size":"contain","background-repeat":"no-repeat","background-position":"5% 50%"}}},watch:{selectedFilter:function(){this.$emit("game-filter:update",this.selectedFilter)},gameId:function(){this.getGame()}},created:function(){this.getGame()},methods:{getGame:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.getGame({id:this.gameId});case 2:t=e.sent,this.game={title:t.data.Title,logoUrl:t.data.LogoUrl};case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Xi=zi,Yi=(n("46e0"),Object(g["a"])(Xi,Bi,Hi,!1,null,null,null)),Ji=Yi.exports,Ki={name:"Videos",components:{"match-video-card":Ea,"combo-video-card":Wa,"game-nav":Ji},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:null,sort:null}},computed:{skip:function(){return this.videos.length},gameId:function(){return this.$route.params.id}},watch:{gameId:function(){this.isLoading=!0,this.videos=[],this.queryVideos(),this.isLoading=!1}},mounted:function(){this.account&&this.updateFavorites(),this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos),xo.$on("account:update",this.updateFavorites)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos),xo.$off("account:update",this.updateFavorites)},methods:{applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},applyFilter:function(e){this.videos=[],this.filter=e,this.queryVideos()},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={skip:this.skip,sortOption:this.sort,filter:this.filter,searchQuery:[{queryName:"GameId",queryValue:this.gameId}]},e.next=3,At.queryVideos(t);case 3:n=e.sent,this.hydrateVideos(n),this.videos.length<6&&this.playFirstVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},updateFavorites:function(){this.favorites=this.account.favoriteVideos.map((function(e){return{contentType:e.contentType,id:e.id}}))},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){"Combo"===t.contentType?e.videos.filter((function(e){return e.combo.id===t.id}))[0].isFavorited=!0:e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))}}},Zi=Ki,er=(n("805e"),Object(g["a"])(Zi,Qi,Wi,!1,null,null,null)),tr=er.exports,nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"favorite-matches-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{isFirst:t.isFirst,matchId:t.id,account:e.account,favoriteVideos:e.account.favoriteVideos},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e(),"Combo"===t.contentType?n("combo-video-card",{attrs:{isFirst:t.isFirst,comboId:t.id,favoriteVideos:e.account?e.account.favoriteVideos:null,account:e.account},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},ar=[],ir={name:"Collection",components:{"match-video-card":Ea,"combo-video-card":Wa},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1}}},computed:{skip:function(){return this.videos.length},collectionId:function(){return this.$route.params.id}},watch:{collectionId:function(){this.getCollection()}},mounted:function(){this.getCollection(this.$route.params),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos)},methods:{getCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.queryCollection(this.collectionId);case 2:t=e.sent,this.videos=t.data.collection[0].Videos.map((function(e){return{id:e.Id,contentType:e.ContentType,isEditing:!1,isPlaying:!1}}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},spliceVideo:function(e){this.videos.splice(this.videos.indexOf(e),1)},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},rr=ir,or=(n("47ef"),Object(g["a"])(rr,nr,ar,!1,null,null,null)),sr=or.exports,cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel-scrapper"},[n("div",{staticClass:"search"},[n("v-text-field",{staticClass:"creator-input",attrs:{type:"text",placeholder:"Creator Url"},model:{value:e.creatorUrl,callback:function(t){e.creatorUrl=t},expression:"creatorUrl"}}),n("v-btn",{on:{click:function(t){return e.getChannelId()}}},[e._v("Search Creator")]),e.videos?n("v-btn",{on:{click:function(t){return e.getChannelId()}}},[e._v("NextPage")]):e._e()],1),e.videos?n("div",{staticClass:"video-list-container"},[n("div",{staticClass:"assign-all"},[n("h2",[e._v("Assign All:")]),n("game-search",{on:{"update:game":function(t){return e.setGame(t)}}})],1),e._l(e.videos,(function(t){return n("div",{key:t.id,staticClass:"video-container"},[n("div",{staticClass:"title-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"video.selected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selected)?e._i(t.selected,null)>-1:t.selected},on:{change:function(n){var a=t.selected,i=n.target,r=!!i.checked;if(Array.isArray(a)){var o=null,s=e._i(a,o);i.checked?s<0&&e.$set(t,"selected",a.concat([o])):s>-1&&e.$set(t,"selected",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(t,"selected",r)}}}),n("img",{attrs:{src:t.thumbnail}}),n("p",{staticClass:"title"},[e._v(e._s(t.title))])]),n("game-search",{on:{"update:game":function(n){return e.updateGame(n,t)}},model:{value:t.gameId,callback:function(n){e.$set(t,"gameId",n)},expression:"video.gameId"}}),n("div",{staticClass:"players"},[n("div",{staticClass:"player1"},[n("player-search",{on:{"update:player":function(n){return e.addPlayer1(n,t)}},model:{value:t.player1.id,callback:function(n){e.$set(t.player1,"id",n)},expression:"video.player1.id"}}),t.gameId?n("character-search",{attrs:{multiple:"",gameId:t.gameId},on:{"update:character":function(n){return e.setPlayer1Characters(n,t)}},model:{value:t.player1.characters,callback:function(n){e.$set(t.player1,"characters",n)},expression:"video.player1.characters"}}):e._e()],1),n("div",{staticClass:"player2"},[n("player-search",{on:{"update:player":function(n){return e.addPlayer2(n,t)}},model:{value:t.player2.id,callback:function(n){e.$set(t.player2,"id",n)},expression:"video.player2.id"}}),t.gameId?n("character-search",{attrs:{multiple:"",gameId:t.gameId},on:{"update:character":function(n){return e.setPlayer2Characters(n,t)}},model:{value:t.player1.characters,callback:function(n){e.$set(t.player1,"characters",n)},expression:"video.player1.characters"}}):e._e()],1)])],1)})),n("v-btn",{on:{click:e.submit}},[e._v("Submit")])],2):e._e()])},lr=[],ur={name:"Videos",components:{"game-search":un,"player-search":Jt,"character-search":an},data:function(){return{videos:null,error:null,creatorUrl:null,channelId:null,channelTitle:null,creators:null,creatorId:null,limit:100,nextPageToken:null}},mounted:function(){this.fetch()},methods:{fetch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="",t=this.nextPageToken?"https://www.googleapis.com/youtube/v3/search?key=AIzaSyCYRdDi_twi0Xq-4W70LJoargI63fI6ljg&channelId=".concat(this.channelId,"&part=snippet,id&order=date&maxResults=").concat(this.limit,"&pageToken=").concat(this.nextPageToken):"https://www.googleapis.com/youtube/v3/search?key=AIzaSyCYRdDi_twi0Xq-4W70LJoargI63fI6ljg&channelId=".concat(this.channelId,"&part=snippet,id&order=date&maxResults=").concat(this.limit),e.next=5,this.axios.get(t);case 5:n=e.sent,this.channelTitle=n.data.items[0].snippet.channelTitle,this.nextPageToken=n.data.nextPageToken,this.videos=n.data.items.map((function(e){return{id:e.id.videoId,title:e.snippet.title,thumbnail:e.snippet.thumbnails.default.url,selected:!1,player1:{id:null,characters:[]},player2:{id:null,characters:[]},gameId:null}})),this.getCreators(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),this.error=e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),setGame:function(e){this.videos.forEach((function(t){t.gameId=e.id}))},getChannelId:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.channelId=this.creatorUrl.substring(this.creatorUrl.indexOf("/channel/")+9,this.creatorUrl.length),this.fetch();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.videos.filter((function(e){return e.selected})),n=t.map((function(e){return{VideoUrl:e.id,GameId:e.gameId,Team1Players:[{Slot:1,Id:e.player1.id,CharacterIds:e.player1.characters}],Team2Players:[{Slot:2,Id:e.player2.id,CharacterIds:e.player2.characters}]}})),e.next=4,Qt.addMatches(n);case 4:this.postVideo();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.videos.filter((function(e){return e.selected})),n=t.map((function(e){return{Url:e.id,ContentType:"Match",ContentCreatorId:a.creatorId,VideoType:"youtube",GameId:e.gameId}})),e.next=4,At.addVideos(n);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addPlayer1:function(e,t){t.player1.id=e.id},addPlayer2:function(e,t){t.player2.id=e.id},setPlayer1Characters:function(e,t){t.player1.characters=e.map((function(e){return e.id}))},setPlayer2Characters:function(e,t){t.player2.characters=e.map((function(e){return e.id}))},updateGame:function(e,t){t.gameId=e.id},getContentCreatorId:function(){var e=this.channelId,t=this.creators.filter((function(t){return t.youtubeId===e}));t.length>0?this.creatorId=t[0].id:this.addCreator()},getCreators:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.fetchCreators();case 2:t=e.sent,this.creators=t.data.creators.map((function(e){return{id:e._id,name:e.Name,youtubeId:e.YoutubeId}})),this.getContentCreatorId();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addCreator:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ct.addCreator({Name:this.channelTitle,YoutubeId:this.channelId});case 2:t=e.sent,this.creatorId=t.data.id;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},dr=ur,hr=(n("e4bb"),Object(g["a"])(dr,cr,lr,!1,null,null,null)),mr=hr.exports;b()(hr,{VBtn:qe["a"],VTextField:ft["a"]});var pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"favorite-matches-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{matchId:t.matchId,account:e.account,favoriteVideos:e.account.favoriteVideos},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},fr=[],vr={name:"FavoriteMatches",components:{"match-video-card":Ea},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1}}},computed:{skip:function(){return this.videos.length}},mounted:function(){this.queryVideos(this.$route.params),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos)},methods:{queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,a=t||this.savedQuery,this.savedQuery!==a&&(this.videos=[],this.savedQuery=t),i=this.account.favoriteVideos.filter((function(e){return"Match"===e.contentType})),n=i.map((function(e){return{queryName:"Id",queryValue:e.id}})),r={skip:this.skip,searchQuery:n},e.next=8,At.queryVideos(r);case 8:o=e.sent,this.hydrateVideos(o);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},spliceVideo:function(e){this.videos.splice(this.videos.indexOf(e),1)},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},gr=vr,yr=(n("5249"),Object(g["a"])(gr,pr,fr,!1,null,null,null)),br=yr.exports,Cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"favorite-matches-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Combo"===t.contentType?n("combo-video-card",{attrs:{comboId:t.comboId,account:e.account,favoriteVideos:e.account.favoriteVideos},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},wr=[],_r={name:"FavoriteCombos",components:{"combo-video-card":Wa},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1}}},computed:{skip:function(){return this.videos.length}},mounted:function(){this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("search",this.queryVideos)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("search",this.queryVideos)},methods:{queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,a=t||this.savedQuery,this.savedQuery!==a&&(this.videos=[],this.savedQuery=t),i=this.account.favoriteVideos.filter((function(e){return"Combo"===e.contentType})),n=i.map((function(e){return{queryName:"ComboId",queryValue:e.id}})),r={skip:this.skip,searchQuery:n},e.next=8,At.queryVideos(r);case 8:o=e.sent,this.hydrateVideos(o),this.videos.length<6&&this.playFirstVideo();case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({comboId:e.Combo?e.Combo._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},spliceVideo:function(e){this.videos.splice(this.videos.indexOf(e),1)},addedNewVideo:function(){this.videos=[],this.queryVideos()}}},Vr=_r,kr=(n("e3af"),Object(g["a"])(Vr,Cr,wr,!1,null,null,null)),xr=kr.exports,Ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"montages-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Montage"===t.contentType?n("montage-video-card",{attrs:{montageId:t.montageId,account:e.account},on:{"video:delete":function(t){return e.refreshDelete()}},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},Tr=[],$r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoList",staticClass:"video-card"},[e.isLoading?n("div"):n("div",{staticClass:"montage-card card "},[n("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint,options:e.intersectionOptions},expression:"{\n                active: true,\n                callback: onWaypoint,\n                options: intersectionOptions\n            }"}],staticClass:"video-container",attrs:{id:e.montageId}},["youtube"===e.video.videoType?n("youtube-media",{ref:"youtubeRef",attrs:{"video-id":e.video.url,"player-width":556,"player-height":313,"player-vars":{rel:0,start:e.video.startTime,end:e.video.endTime},mute:!0,playsinline:1},on:{ready:e.ready}}):e._e()],1),n("div",{staticClass:"card-label"},[e._v("Montage")]),e._l(e.video.montage.characters,(function(t){return n("div",{key:t.id},[n("div",{class:["character-bubble","character-"+(e.index+1),t.name.toLowerCase()],style:{backgroundImage:"url('"+t.imageUrl+"')"}})])})),e.video.isEditing?e._e():n("div",{staticClass:"characters"},[n("div",{staticClass:"player"},[e._l(e.video.montage.players,(function(t){return n("div",{key:t.id,staticClass:"heavy-weight player-name",on:{click:function(n){return e.queryPlayer(t.id)}}},[n("p",[e._v(e._s(t.name))])])})),e._l(e.video.montage.characters,(function(t,a){return n("div",{key:a},[n("div",{staticClass:"character-name",on:{click:function(n){return e.queryCharacter(t.id)}}},[n("p",[n("span",[e._v(e._s(t.name))])])])])}))],2)])],2),n("div",{staticClass:"admin-controls"},[e.showCollections?n("collection-search",{attrs:{account:e.account,multiple:""},on:{"update:collection":function(t){return e.updateCollections(t,e.video)}},model:{value:e.video.collections,callback:function(t){e.$set(e.video,"collections",t)},expression:"video.collections"}}):e._e(),e.account?n("v-btn",{staticClass:"favorite-button",on:{click:function(t){e.showCollections=!e.showCollections}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-plus\n            ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.editVideo()}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                mdi-wrench\n            ")])],1):e._e(),e.isAdmin?n("v-btn",{on:{click:function(t){return e.deleteVideo(e.video.combo)}}},[n("v-icon",{attrs:{dark:""}},[e._v("\n                mdi-delete\n            ")])],1):e._e(),e.video.isFavorited?n("v-btn",{staticClass:"unfavorite-button",on:{click:function(t){return e.unfavoriteVideo()}}},[n("v-icon",[e._v("\n                mdi-heart\n            ")])],1):n("v-btn",{staticClass:"favorite-button",on:{click:function(t){return e.favoriteVideo()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-heart-outline\n            ")])],1),n("v-btn",{staticClass:"share-button",on:{click:function(t){return e.copyLink()}}},[n("v-icon",{attrs:{light:""}},[e._v("\n                mdi-link\n            ")])],1)],1)])},Pr=[],Or={name:"VideoCard",components:{"collection-search":Na},props:{montageId:{type:String,default:null},value:{type:Boolean,default:!1},isFirst:{type:Boolean,default:!1},favoriteVideos:{type:Array,default:null},account:{type:Object,default:null}},data:function(){return{videoCurrentTime:0,isLoading:!0,video:{videoType:null,isPlaying:!1,url:null,isFavorited:!1},intersectionOptions:{root:null,rootMargin:"0px 0px 0px 0px",threshold:1},player:null,collections:null,showCollections:!1}},computed:{formattedInputs:function(){return this.video.combo.inputs.join(" > ")},isAdmin:function(){return"Admin User"===this.account.role}},watch:{"video.isPlaying":function(){"uploaded"===this.video.videoType?!0===this.video.isPlaying?this.$refs.videoRef.play():this.$refs.videoRef.pause():"youtube"===this.video.videoType&&this.player&&(!0===this.video.isPlaying?this.player.playVideo():this.player.pauseVideo()),!0===this.value&&this.video.combo.startTime&&this.setTimer()},videoCurrentTime:function(){this.videoCurrentTime>parseInt(this.video.combo.endTime)&&this.$refs.youtubeRef.player.seekTo(this.video.combo.startTime)}},created:function(){this.getCollections(),this.getMontage(),this.playVideo()},methods:{getMontage:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wt.getMontage(this.montageId);case 2:t=e.sent,n=t.data.montages[0],this.video.montage={players:n.Player.map((function(e){return{id:e._id,name:e.Name}})),characters:n.Characters.map((function(e){return{id:e._id,imageUrl:e.AvatarUrl,name:e.Name}})),collections:this.assignCollection(this.montageId)},this.video.url=n.VideoUrl,this.getVideo();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.getMatchVideo(this.video.url);case 2:t=e.sent,n=t.data.videos[0],this.video.videoType=n.VideoType,this.video.game={title:n.Game.Title,logoUrl:n.Game.LogoUrl,id:n.Game._id},this.video.isPlaying=!1,this.video.id=n._id,this.isLoading=!1,this.video.montage.id=this.montageId,this.video.contentType="Montage",this.video.isFavorited=this.favoriteVideos?this.favoriteVideos.some((function(e){return e.id===a.video.id})):null;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),playVideo:function(){"uploaded"===this.video.videoType?this.video.isPlaying&&this.$refs.videoRef.play():"youtube"===this.video.videoType&&this.video.isPlaying},ready:function(e){this.player=e.target,(this.video.isPlaying||this.isFirst)&&(this.player.playVideo(),this.video.isPlaying&&this.video.startTime&&this.setTimer())},deleteVideo:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At.deleteVideo(this.video.id);case 2:return e.next=4,Wt.deleteMatch(this.video.montageId.id);case 4:t=e.sent,this.$emit("video:delete",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryPlayer:function(e){this.$router.push("/player/".concat(e))},queryCharacter:function(e){this.$router.push("/character/".concat(e))},setTimer:function(){this.$nextTick((function(){var e=this;window.setInterval((function(){e.getTimeStamp()}),1e3)}))},getTimeStamp:function(){this.videoCurrentTime=this.$refs.youtubeRef.player.getCurrentTime()},editVideo:function(){this.video.isEditing=!0,xo.$emit("open:widget",{name:"video",videoId:this.video.id})},copyLink:function(){this.$copyText("https://fighters-edge.com/montage/".concat(this.video.id)).then((function(){alert("montage copied")}))},favoriteVideo:function(){xo.$emit("video:favorite",this.video),this.video.isFavorited=!0},unfavoriteVideo:function(){xo.$emit("video:unfavorite",this.video),this.video.isFavorited=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id;i&&(n===this.$waypointMap.GOING_IN&&a&&(this.video.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(this.video.isPlaying=!1))},updateCollections:function(e){var t=this,n=e.map((function(e){return e.id})),a={id:this.montageId,contentType:"Montage"};this.collections.forEach((function(e){var i=e.videos.some((function(e){return e.id===t.montageId})),r=n.some((function(t){return t===e.id}));r&&!i?(e.videos.push(a),t.patchCollection(e)):!r&&i&&(e.videos=e.videos.splice(e.videos.indexOf(a),1),t.patchCollection(e))}))},patchCollection:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.id,Videos:t.videos,Name:t.name},e.next=3,x.updateCollection(n);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getCollections:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[{queryName:"OwnerId",queryValue:this.account.id}],n={searchQuery:t},e.next=4,x.queryCollections(n);case 4:a=e.sent,this.collections=a.data.collections.map((function(e){return{id:e._id,name:e.Name,ownerId:e.OwnerId,videos:e.Videos.map((function(e){return{id:e.Id,contentType:e.ContentType}}))}}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),assignCollection:function(){var e=this;if(this.collections){var t=[];return this.collections.forEach((function(n){var a=n.videos.some((function(t){return t.id===e.montageId}));a&&t.push(n.id)})),t}return[]}}},jr=Or,Mr=(n("b8c6"),Object(g["a"])(jr,$r,Pr,!1,null,null,null)),qr=Mr.exports;b()(Mr,{VBtn:qe["a"],VIcon:C["a"]});var Gr={name:"Videos",components:{"montage-video-card":qr},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:"Montage",sort:null}},computed:{skip:function(){return this.videos.length},playerId:function(){return this.$route.params.id}},watch:{playerId:function(){this.isLoading=!0,this.videos=[],this.queryVideos(),this.isLoading=!1}},mounted:function(){this.account&&this.updateFavorites(),this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("newVideoPosted",this.addedNewVideo),xo.$on("filter",this.applyFilter),xo.$on("search",this.queryVideos),xo.$on("account:update",this.updateFavorites)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("newVideoPosted",this.addedNewVideo),xo.$off("filter",this.applyFilter),xo.$on("search",this.queryVideos),xo.$off("account:update",this.updateFavorites)},methods:{refreshDelete:function(){this.videos=[],this.queryVideos(),alert("montage deleted")},applySort:function(e){this.videos=[],this.sort=e,this.queryVideos()},applyFilter:function(e){this.videos=[],this.queryVideos(e)},queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={skip:this.skip,sortOption:this.sort,filter:this.filter,searchQuery:[]},t&&n.searchQuery.push(t),e.next=4,At.queryVideos(n);case 4:a=e.sent,this.hydrateVideos(a),this.videos.length<6&&this.playFirstVideo();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({montageId:e.Montage?e.Montage._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.montageId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},updateFavorites:function(){this.favorites=this.account.favoriteVideos.map((function(e){return{contentType:e.contentType,id:e.id}}))},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))}}},Nr=Gr,Ur=(n("4522"),Object(g["a"])(Nr,Ir,Tr,!1,null,null,null)),Rr=Ur.exports,Sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"matches-view"},[e.videos.length>0?n("div",{staticClass:"videos-container"},e._l(e.videos,(function(t,a){return n("div",{key:a,class:{selected:t.selected}},["Match"===t.contentType?n("match-video-card",{attrs:{matchId:t.matchId,account:e.account},on:{"video:delete":function(t){return e.refreshDelete()}},model:{value:t.isPlaying,callback:function(n){e.$set(t,"isPlaying",n)},expression:"video.isPlaying"}}):e._e()],1)})),0):e._e()])},Er=[],Fr={name:"Videos",components:{"match-video-card":Ea},props:{account:{type:Object,default:null}},data:function(){return{videos:[],loading:!0,query:null,savedQuery:null,favorites:[],filter:"Match",sort:null,character1:this.$route.params?this.$route.params.id:null,character2:this.$route.params?this.$route.params.id2:null}},computed:{skip:function(){return this.videos.length},path:function(){return this.$route.path}},watch:{path:function(){this.videos=[],this.character1=this.$route.params.id,this.character2=this.$route.params.id2,this.queryVideos()}},mounted:function(){this.account.id&&this.updateFavorites(),this.character1&&this.character2&&this.queryVideos(),window.addEventListener("scroll",this.handleScroll),xo.$on("account:update",this.updateFavorites),xo.$on("matchup-character1",this.addCharacter1),xo.$on("matchup-character2",this.addCharacter2)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),xo.$off("account:update",this.updateFavorites),xo.$off("matchup-character1",this.addCharacter1),xo.$off("matchup-character2",this.addCharacter2)},methods:{queryVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={skip:this.skip,sortOption:this.sort,filter:this.filter,searchQuery:{character1:this.character1,character2:this.character2}},e.next=3,At.queryMatchup(t);case 3:n=e.sent,this.hydrateVideos(n),this.videos.length<6&&this.playFirstVideo();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(e){var t=this;e.data.videos.forEach((function(e){t.videos.push({matchId:e.Match?e.Match._id:null,contentType:e.ContentType,isEditing:!1,isPlaying:!1})}))},playFirstVideo:function(){this.videos[0].isPlaying=!0,this.isLoading=!1},onWaypoint:function(e){var t=e.el,n=e.going,a=e.direction,i=t.id,r=this.videos.find((function(e){return e.matchId===i}));n===this.$waypointMap.GOING_IN&&a&&(r.isPlaying=!0),n===this.$waypointMap.GOING_OUT&&a&&(r.isPlaying=!1)},handleScroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&this.queryVideos()},addedNewVideo:function(){this.videos=[],this.queryVideos()},updateFavorites:function(){this.favorites=this.account.favoriteVideos.map((function(e){return{contentType:e.contentType,id:e.id}}))},checkFavorites:function(){var e=this;this.favorites.forEach((function(t){e.videos.filter((function(e){return e.id===t.id}))[0].isFavorited=!0}))},addCharacter1:function(e){this.character2?this.$router.push("/matchups/".concat(e,"/").concat(this.character2)):this.character1=e},addCharacter2:function(e){this.character1?this.$router.push("/matchups/".concat(this.character1,"/").concat(e)):this.character2=e}}},Lr=Fr,Ar=(n("52d1"),Object(g["a"])(Lr,Sr,Er,!1,null,null,null)),Dr=Ar.exports,Qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"videoViewRef",staticClass:"characters-view"})},Wr=[],Br={name:"test",components:{},props:{},data:function(){return{matches:null}},computed:{},mounted:function(){this.queryMatch()},methods:{queryMatch:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={searchQuery:[{queryName:"GameId",queryValue:"606d42021ddff92064798667"}]},e.next=3,Qt.queryMatches(t);case 3:n=e.sent,this.hydrateVideos(n),this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hydrateVideos:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.matches=t.data.matches.map((function(e){return{id:e._id,GameVersion:1.03}}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},Hr=Br,zr=(n("6e57"),Object(g["a"])(Hr,Qr,Wr,!1,null,null,null)),Xr=zr.exports,Yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"counter"},[n("div",{staticClass:"player1"},[n("h2",[e._v("Player 1")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.counterHit--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.counterHit++}}},[e._v("+")]),e._v(e._s(e.player1.counterHit)+" Counter Hits\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.burst--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.burst++}}},[e._v("+")]),e._v(e._s(e.player1.burst)+" Bursts\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.goldBurst--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.goldBurst++}}},[e._v("+")]),e._v(e._s(e.player1.goldBurst)+" Gold Burst\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.bars--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.bars++}}},[e._v("+")]),e._v(e._s(e.player1.bars)+" Bars\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.barsUsed--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.barsUsed++}}},[e._v("+")]),e._v(e._s(e.player1.barsUsed)+" Bars Used\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.rrc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.rrc++}}},[e._v("+")]),e._v(e._s(e.player1.rrc)+" RRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.yrc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.yrc++}}},[e._v("+")]),e._v(e._s(e.player1.yrc)+" YRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.brc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.brc++}}},[e._v("+")]),e._v(e._s(e.player1.brc)+" BRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.prc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.prc++}}},[e._v("+")]),e._v(e._s(e.player1.prc)+" PRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.overdrives--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.overdrives++}}},[e._v("+")]),e._v(e._s(e.player1.overdrives)+" Overdrives\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.throws--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.throws++}}},[e._v("+")]),e._v(e._s(e.player1.throws)+" Throws\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.tech--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.tech++}}},[e._v("+")]),e._v(e._s(e.player1.tech)+" Techs\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.roundsWon--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.roundsWon++}}},[e._v("+")]),e._v(e._s(e.player1.roundsWon)+" Rounds Won\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.matchesWon--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.matchesWon++}}},[e._v("+")]),e._v(e._s(e.player1.matchesWon)+" Matches Won\n        ")])]),n("div",{staticClass:"player2"},[n("h2",[e._v("Player 2")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.counterHit--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.counterHit++}}},[e._v("+")]),e._v(e._s(e.player2.counterHit)+" Counter Hits\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.burst--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.burst++}}},[e._v("+")]),e._v(e._s(e.player2.burst)+" Bursts\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.goldBurst--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.goldBurst++}}},[e._v("+")]),e._v(e._s(e.player2.goldBurst)+" Gold Burst\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.bars--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.bars++}}},[e._v("+")]),e._v(e._s(e.player2.bars)+" Bars\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.barsUsed--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.barsUsed++}}},[e._v("+")]),e._v(e._s(e.player2.barsUsed)+" Bars Used\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.rrc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.rrc++}}},[e._v("+")]),e._v(e._s(e.player2.rrc)+" RRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.yrc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.yrc++}}},[e._v("+")]),e._v(e._s(e.player2.yrc)+" YRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player1.brc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player1.brc++}}},[e._v("+")]),e._v(e._s(e.player2.brc)+" BRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.prc--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.prc++}}},[e._v("+")]),e._v(e._s(e.player2.prc)+" PRC\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.overdrives--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.overdrives++}}},[e._v("+")]),e._v(e._s(e.player2.overdrives)+" Overdrives\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.throws--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.throws++}}},[e._v("+")]),e._v(e._s(e.player2.throws)+" Throws\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.tech--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.tech++}}},[e._v("+")]),e._v(e._s(e.player2.tech)+" Techs\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.roundsWon--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.roundsWon++}}},[e._v("+")]),e._v(e._s(e.player2.roundsWon)+" Rounds Won\n        ")]),n("div",{staticClass:"stat"},[n("button",{staticClass:"subtract",on:{click:function(t){e.player2.matchesWon--}}},[e._v("-")]),n("button",{staticClass:"add",on:{click:function(t){e.player2.matchesWon++}}},[e._v("+")]),e._v(e._s(e.player2.matchesWon)+" Matches Won\n        ")])])])},Jr=[],Kr={name:"Counters",data:function(){return{player1:{counterHit:0,burst:0,goldBurst:0,bars:0,barsUsed:0,throws:0,tech:0,roundsWon:0,matchesWon:0,rrc:0,brc:0,yrc:0,prc:0,overdrives:0},player2:{counterHit:0,burst:0,goldBurst:0,bars:0,barsUsed:0,throws:0,tech:0,roundsWon:0,matchesWon:0,rrc:0,brc:0,yrc:0,prc:0,overdrives:0}}},methods:{}},Zr=Kr,eo=(n("7eb1"),Object(g["a"])(Zr,Yr,Jr,!1,null,null,null)),to=eo.exports,no=[{path:"/",name:"Videos",component:Xa},{path:"/* ",name:"Videos",component:Xa},{path:"/  200",name:"Videos",component:Xa},{path:"/combos",name:"Combos",component:mi},{path:"/combo/:id",name:"Combo",component:bi},{path:"/matches",name:"Matches",component:ji},{path:"/match/:id",name:"Match",component:xi},{path:"/games",name:"Games",component:Di},{path:"/game/:id",name:"Game",component:tr},{path:"/montages/",name:"Montages",component:Rr},{path:"/matchups",name:"MatchUps",component:Dr},{path:"/matchups/:id/:id2",name:"MatchUps",component:Dr},{path:"/players/",name:"Players",component:ti},{path:"/player/:id",name:"Player",component:ti},{path:"/character/:id",name:"Character",component:si},{path:"/collection/:id",name:"Collection",component:sr},{path:"/channel-scrapper",name:"ChannelScrapper",component:mr},{path:"/favorite-matches",name:"Favorites Matches",component:br},{path:"/favorite-combos",name:"Favorites Combos",component:xr},{path:"/test",name:"test",component:Xr},{path:"/counter",name:"counter",component:to}],ao=no,io=n("d740"),ro=n.n(io),oo=n("8e5f"),so=n.n(oo),co=n("f6dd"),lo=n("f309");a["default"].use(lo["a"]);var uo=new lo["a"]({}),ho=n("4eb5"),mo=n.n(ho),po=n("2106"),fo=n.n(po),vo=n("2ef0"),go=n.n(vo),yo=n("260b"),bo=n("ecee"),Co=n("ad3d"),wo=n("f2d1"),_o=n("e37d");bo["c"].add(wo["a"]),Object.defineProperty(a["default"].prototype,"$_",{value:go.a}),a["default"].use(ro.a),a["default"].use(xa["a"]),a["default"].use(ht.a),a["default"].use(_o["a"]),a["default"].component("multiselect",so.a),a["default"].component("font-awesome-icon",Co["a"]),a["default"].use(co["a"],{global:!0,componentId:"youtube-media"}),a["default"].use(mo.a),a["default"].use(fo.a,h.a),a["default"].config.productionTip=!1;var Vo={apiKey:"AIzaSyCBxK55DQsogeGPMEr2TEWw5xsG6_HZtrg",authDomain:"fightmelogin.firebaseapp.com",projectId:"fightmelogin",storageBucket:"fightmelogin.appspot.com",messagingSenderId:"1047017532667",appId:"1:1047017532667:web:67f9ee065d0b56909a545e"},ko=new xa["a"]({mode:"history",routes:ao}),xo=new a["default"];yo["a"].initializeApp(Vo),new a["default"]({router:ko,vuetify:uo,components:{App:ka},render:function(e){return e(ka)}}).$mount("#app")},5747:function(e,t,n){"use strict";n("c959")},"5f76":function(e,t,n){"use strict";n("b21f")},"5faa":function(e,t,n){},"61cd":function(e,t,n){},6634:function(e,t,n){},"6b86":function(e,t,n){"use strict";n("91a8")},"6e57":function(e,t,n){"use strict";n("ead4")},7019:function(e,t,n){},7029:function(e,t,n){},"736c":function(e,t,n){},"7d7c":function(e,t,n){"use strict";n("1e57")},"7eb1":function(e,t,n){"use strict";n("be63")},"805e":function(e,t,n){"use strict";n("d6c7")},"81d4":function(e,t,n){"use strict";n("4b59")},8291:function(e,t,n){},"851c":function(e,t,n){},"8a1a":function(e,t,n){"use strict";n("d0a4")},"91a8":function(e,t,n){},"92b1":function(e,t,n){"use strict";n("2fb1")},"959f":function(e,t,n){},9677:function(e,t,n){},"98a4":function(e,t,n){"use strict";n("9d02")},"9c92":function(e,t,n){},"9d02":function(e,t,n){},"9f16":function(e,t,n){"use strict";n("9677")},a0e2:function(e,t,n){},a0f5:function(e,t,n){"use strict";n("6634")},a814:function(e,t,n){"use strict";n("b533")},a8f8:function(e,t,n){"use strict";n("736c")},ac55:function(e,t,n){},b0a0:function(e,t,n){"use strict";n("a0e2")},b21f:function(e,t,n){},b533:function(e,t,n){},b86e:function(e,t,n){"use strict";n("0c0e")},b8c6:function(e,t,n){"use strict";n("f0c9")},b8e7:function(e,t,n){},b9af:function(e,t,n){},be63:function(e,t,n){},c959:function(e,t,n){},d0a4:function(e,t,n){},d400:function(e,t,n){},d5b8:function(e,t,n){"use strict";n("7019")},d6c7:function(e,t,n){},d994:function(e,t,n){"use strict";n("fc76")},dc90:function(e,t,n){},dd5a:function(e,t,n){"use strict";n("15a4")},df0c:function(e,t,n){"use strict";n("3002")},e022:function(e,t,n){"use strict";n("b8e7")},e3af:function(e,t,n){"use strict";n("959f")},e48b:function(e,t,n){},e4bb:function(e,t,n){"use strict";n("851c")},ea08:function(e,t,n){"use strict";n("299a")},ead4:function(e,t,n){},ee2f:function(e,t,n){},f0c9:function(e,t,n){},f4e8:function(e,t,n){},fc76:function(e,t,n){}});
//# sourceMappingURL=app.f5ecfdbd.js.map